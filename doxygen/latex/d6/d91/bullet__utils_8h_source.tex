\hypertarget{bullet__utils_8h_source}{}\doxysection{bullet\+\_\+utils.\+h}
\label{bullet__utils_8h_source}\index{tesseract\_collision/bullet/include/tesseract\_collision/bullet/bullet\_utils.h@{tesseract\_collision/bullet/include/tesseract\_collision/bullet/bullet\_utils.h}}
\mbox{\hyperlink{bullet__utils_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{43 \textcolor{preprocessor}{\#ifndef TESSERACT\_COLLISION\_BULLET\_UTILS\_H}}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#define TESSERACT\_COLLISION\_BULLET\_UTILS\_H}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{macros_8h}{tesseract\_common/macros.h}}>}}
\DoxyCodeLine{47 \mbox{\hyperlink{macros_8h_a8cc0e3c6a3382c5c0b19eb9e676fc2db}{TESSERACT\_COMMON\_IGNORE\_WARNINGS\_PUSH}}}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#include <BulletCollision/CollisionShapes/btCollisionShape.h>}}
\DoxyCodeLine{49 \textcolor{preprocessor}{\#include <BulletCollision/CollisionDispatch/btManifoldResult.h>}}
\DoxyCodeLine{50 \textcolor{preprocessor}{\#include <btBulletCollisionCommon.h>}}
\DoxyCodeLine{51 \textcolor{preprocessor}{\#include <console\_bridge/console.h>}}
\DoxyCodeLine{52 \mbox{\hyperlink{namespaceTESSERACT__COMMON__IGNORE__WARNINGS__POP}{TESSERACT\_COMMON\_IGNORE\_WARNINGS\_POP}}}
\DoxyCodeLine{53 }
\DoxyCodeLine{54 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{tesseract__collision_2core_2include_2tesseract__collision_2core_2types_8h}{tesseract\_collision/core/types.h}}>}}
\DoxyCodeLine{55 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{common_8h}{tesseract\_collision/core/common.h}}>}}
\DoxyCodeLine{56 }
\DoxyCodeLine{57 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacetesseract__collision}{tesseract\_collision}}}
\DoxyCodeLine{58 \{}
\DoxyCodeLine{59 \textcolor{keyword}{namespace }tesseract\_collision\_bullet}
\DoxyCodeLine{60 \{}
\DoxyCodeLine{61 \textcolor{preprocessor}{\#define METERS}}
\DoxyCodeLine{62 }
\DoxyCodeLine{63 \textcolor{keyword}{const} btScalar \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a28ba097170846ac0d72e460405f51898}{BULLET\_MARGIN}} = btScalar(0.0);}
\DoxyCodeLine{64 \textcolor{keyword}{const} btScalar \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a97bfd73cacd135c11ff3c49bc72ed4e1}{BULLET\_SUPPORT\_FUNC\_TOLERANCE}} = btScalar(0.01) \mbox{\hyperlink{bullet__utils_8h_aa2d1ce652c65764c67dcca938d0aca3e}{METERS}};}
\DoxyCodeLine{65 const btScalar \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a05205b4124342db952ef29e48a0c2ca2}{BULLET\_LENGTH\_TOLERANCE}} = btScalar(0.001) \mbox{\hyperlink{bullet__utils_8h_aa2d1ce652c65764c67dcca938d0aca3e}{METERS}};}
\DoxyCodeLine{66 const btScalar \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_aab006a26f46e1adf705e5cc9bdd2da7d}{BULLET\_EPSILON}} = btScalar(1e-\/3);}
\DoxyCodeLine{67 const btScalar \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a679faf14058610e42a5f1b9ad4565704}{BULLET\_DEFAULT\_CONTACT\_DISTANCE}} = btScalar(0.05);}
\DoxyCodeLine{68 const \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_abf8e31c75d660acbd10fa17f38ed4b9c}{BULLET\_COMPOUND\_USE\_DYNAMIC\_AABB}} = true;}
\DoxyCodeLine{69 }
\DoxyCodeLine{70 inline btVector3 \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_ab6260ffd652e88e821a535c8ef362788}{convertEigenToBt}}(const Eigen::Vector3d\& v)}
\DoxyCodeLine{71 \{}
\DoxyCodeLine{72   \textcolor{keywordflow}{return} btVector3\{ \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(v[0]), \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(v[1]), \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(v[2]) \};}
\DoxyCodeLine{73 \}}
\DoxyCodeLine{74 }
\DoxyCodeLine{75 \textcolor{keyword}{inline} Eigen::Vector3d \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(\textcolor{keyword}{const} btVector3\& v)}
\DoxyCodeLine{76 \{}
\DoxyCodeLine{77   \textcolor{keywordflow}{return} Eigen::Vector3d\{ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(v.x()), \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(v.y()), \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(v.z()) \};}
\DoxyCodeLine{78 \}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{keyword}{inline} btQuaternion \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_ab6260ffd652e88e821a535c8ef362788}{convertEigenToBt}}(\textcolor{keyword}{const} Eigen::Quaterniond\& q)}
\DoxyCodeLine{81 \{}
\DoxyCodeLine{82   \textcolor{keywordflow}{return} btQuaternion\{ \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(q.x()),}
\DoxyCodeLine{83                        \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(q.y()),}
\DoxyCodeLine{84                        \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(q.z()),}
\DoxyCodeLine{85                        \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(q.w()) \};}
\DoxyCodeLine{86 \}}
\DoxyCodeLine{87 }
\DoxyCodeLine{88 \textcolor{keyword}{inline} btMatrix3x3 \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_ab6260ffd652e88e821a535c8ef362788}{convertEigenToBt}}(\textcolor{keyword}{const} Eigen::Matrix3d\& r)}
\DoxyCodeLine{89 \{}
\DoxyCodeLine{90   \textcolor{keywordflow}{return} btMatrix3x3\{ \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(r(0, 0)), \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(r(0, 1)), \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(r(0, 2)),}
\DoxyCodeLine{91                       \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(r(1, 0)), \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(r(1, 1)), \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(r(1, 2)),}
\DoxyCodeLine{92                       \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(r(2, 0)), \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(r(2, 1)), \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(r(2, 2)) \};}
\DoxyCodeLine{93 \}}
\DoxyCodeLine{94 }
\DoxyCodeLine{95 \textcolor{keyword}{inline} Eigen::Matrix3d \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(\textcolor{keyword}{const} btMatrix3x3\& r)}
\DoxyCodeLine{96 \{}
\DoxyCodeLine{97   Eigen::Matrix3d m;}
\DoxyCodeLine{98   m << static\_cast<double>(r[0][0]), \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(r[0][1]), \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(r[0][2]),}
\DoxyCodeLine{99       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(r[1][0]), \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(r[1][1]), \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(r[1][2]),}
\DoxyCodeLine{100       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(r[2][0]), \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(r[2][1]), \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(r[2][2]);}
\DoxyCodeLine{101   \textcolor{keywordflow}{return} m;}
\DoxyCodeLine{102 \}}
\DoxyCodeLine{103 }
\DoxyCodeLine{104 \textcolor{keyword}{inline} btTransform \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_ab6260ffd652e88e821a535c8ef362788}{convertEigenToBt}}(\textcolor{keyword}{const} Eigen::Isometry3d\& t)}
\DoxyCodeLine{105 \{}
\DoxyCodeLine{106   \textcolor{keyword}{const} Eigen::Matrix3d\& rot = t.matrix().block<3, 3>(0, 0);}
\DoxyCodeLine{107   \textcolor{keyword}{const} Eigen::Vector3d\& tran = t.translation();}
\DoxyCodeLine{108 }
\DoxyCodeLine{109   \textcolor{keywordflow}{return} btTransform\{ \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_ab6260ffd652e88e821a535c8ef362788}{convertEigenToBt}}(rot), \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_ab6260ffd652e88e821a535c8ef362788}{convertEigenToBt}}(tran) \};}
\DoxyCodeLine{110 \}}
\DoxyCodeLine{111 }
\DoxyCodeLine{112 \textcolor{keyword}{inline} Eigen::Isometry3d \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(\textcolor{keyword}{const} btTransform\& t)}
\DoxyCodeLine{113 \{}
\DoxyCodeLine{114   Eigen::Isometry3d i = Eigen::Isometry3d::Identity();}
\DoxyCodeLine{115   i.linear() = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(t.getBasis());}
\DoxyCodeLine{116   i.translation() = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(t.getOrigin());}
\DoxyCodeLine{117 }
\DoxyCodeLine{118   \textcolor{keywordflow}{return} i;}
\DoxyCodeLine{119 \}}
\DoxyCodeLine{120 }
\DoxyCodeLine{127 \textcolor{keyword}{class }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}} : \textcolor{keyword}{public} btCollisionObject}
\DoxyCodeLine{128 \{}
\DoxyCodeLine{129 \textcolor{keyword}{public}:}
\DoxyCodeLine{130   EIGEN\_MAKE\_ALIGNED\_OPERATOR\_NEW}
\DoxyCodeLine{131 }
\DoxyCodeLine{132   \textcolor{keyword}{using }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{Ptr}} = std::shared\_ptr<CollisionObjectWrapper>;}
\DoxyCodeLine{133   \textcolor{keyword}{using }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ae1ff47c5b19d5d37066a2c68f3313c3d}{ConstPtr}} = std::shared\_ptr<const CollisionObjectWrapper>;}
\DoxyCodeLine{134 }
\DoxyCodeLine{135   \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a1f994976936388f2829820b95218b7aa}{CollisionObjectWrapper}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{136   \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a1f994976936388f2829820b95218b7aa}{CollisionObjectWrapper}}(std::string name,}
\DoxyCodeLine{137                          \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& type\_id,}
\DoxyCodeLine{138                          \mbox{\hyperlink{namespacetesseract__collision_a2472107aae8174a30873bb0a955c3cb4}{CollisionShapesConst}} shapes,}
\DoxyCodeLine{139                          \mbox{\hyperlink{namespacetesseract__common_a94d9921fc7ed323609ac57d06f939cb6}{tesseract\_common::VectorIsometry3d}} shape\_poses);}
\DoxyCodeLine{140 }
\DoxyCodeLine{141   \textcolor{keywordtype}{short} \textcolor{keywordtype}{int} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ab740f54bab539fcd90991ff0bd6a173e}{m\_collisionFilterGroup}}\{ \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__fcl_af7dded074ea546324fb45b909fea527fa24a83bab934b56f9791d14d8a34f1b21}{btBroadphaseProxy::KinematicFilter}} \};}
\DoxyCodeLine{142   \textcolor{keywordtype}{short} \textcolor{keywordtype}{int} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_aeeefb43862813ac5ef3d7350248d36eb}{m\_collisionFilterMask}}\{ \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__fcl_af7dded074ea546324fb45b909fea527fa343cfc9ddeee1f64bc5a1fe9f2bae260}{btBroadphaseProxy::StaticFilter}} | \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__fcl_af7dded074ea546324fb45b909fea527fa24a83bab934b56f9791d14d8a34f1b21}{btBroadphaseProxy::KinematicFilter}} \};}
\DoxyCodeLine{143   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a53a5a8a7c0290137c219324eb7bd2130}{m\_enabled}}\{ \textcolor{keyword}{true} \};}
\DoxyCodeLine{144 }
\DoxyCodeLine{146   \textcolor{keyword}{const} std::string\& \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a2ab5a07ecba0440840e78fbfa5916185}{getName}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3e7b8010f943830140a6d866e84eb077}{m\_name}}; \}}
\DoxyCodeLine{148   \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_aad84dbf4c229abe8d5ade78b39106573}{getTypeID}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a249d6761da873592d805ad27a8f77d59}{m\_type\_id}}; \}}
\DoxyCodeLine{150   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a495bcb97d5bf803e9d0376ad96873d3d}{sameObject}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}\& other)\textcolor{keyword}{ const}}
\DoxyCodeLine{151 \textcolor{keyword}{  }\{}
\DoxyCodeLine{152     \textcolor{keywordflow}{return} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3e7b8010f943830140a6d866e84eb077}{m\_name}} == other.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3e7b8010f943830140a6d866e84eb077}{m\_name}} \&\& \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a249d6761da873592d805ad27a8f77d59}{m\_type\_id}} == other.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a249d6761da873592d805ad27a8f77d59}{m\_type\_id}} \&\& \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a70781c8761f29a7ae7b3d5d79a931ef1}{m\_shapes}}.size() == other.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a70781c8761f29a7ae7b3d5d79a931ef1}{m\_shapes}}.size() \&\&}
\DoxyCodeLine{153            \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ac370a5639754b135ddc65cab3a3d2cb7}{m\_shape\_poses}}.size() == other.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ac370a5639754b135ddc65cab3a3d2cb7}{m\_shape\_poses}}.size() \&\&}
\DoxyCodeLine{154            std::equal(\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a70781c8761f29a7ae7b3d5d79a931ef1}{m\_shapes}}.begin(), \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a70781c8761f29a7ae7b3d5d79a931ef1}{m\_shapes}}.end(), other.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a70781c8761f29a7ae7b3d5d79a931ef1}{m\_shapes}}.begin()) \&\&}
\DoxyCodeLine{155            std::equal(\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ac370a5639754b135ddc65cab3a3d2cb7}{m\_shape\_poses}}.begin(),}
\DoxyCodeLine{156                       \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ac370a5639754b135ddc65cab3a3d2cb7}{m\_shape\_poses}}.end(),}
\DoxyCodeLine{157                       other.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ac370a5639754b135ddc65cab3a3d2cb7}{m\_shape\_poses}}.begin(),}
\DoxyCodeLine{158                       [](\textcolor{keyword}{const} Eigen::Isometry3d\& t1, \textcolor{keyword}{const} Eigen::Isometry3d\& t2) \{ return t1.isApprox(t2); \});}
\DoxyCodeLine{159   \}}
\DoxyCodeLine{160 }
\DoxyCodeLine{161   \textcolor{keyword}{const} \mbox{\hyperlink{namespacetesseract__collision_a2472107aae8174a30873bb0a955c3cb4}{CollisionShapesConst}}\& \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a0726e5b5d241713ec985c3816285d8fd}{getCollisionGeometries}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a70781c8761f29a7ae7b3d5d79a931ef1}{m\_shapes}}; \}}
\DoxyCodeLine{162 }
\DoxyCodeLine{163   \textcolor{keyword}{const} \mbox{\hyperlink{namespacetesseract__common_a94d9921fc7ed323609ac57d06f939cb6}{tesseract\_common::VectorIsometry3d}}\& \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a51ad1846d5937f6e1d654ca9e3f4fa8f}{getCollisionGeometriesTransforms}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ac370a5639754b135ddc65cab3a3d2cb7}{m\_shape\_poses}}; \}}
\DoxyCodeLine{164 }
\DoxyCodeLine{170   \textcolor{keywordtype}{void} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a39019bac89e5bfc9d72dc1b2800b3624}{getAABB}}(btVector3\& aabb\_min, btVector3\& aabb\_max)\textcolor{keyword}{ const}}
\DoxyCodeLine{171 \textcolor{keyword}{  }\{}
\DoxyCodeLine{172     getCollisionShape()-\/>getAabb(getWorldTransform(), aabb\_min, aabb\_max);}
\DoxyCodeLine{173     \textcolor{keyword}{const} btScalar\& d = getContactProcessingThreshold();}
\DoxyCodeLine{174     btVector3 contactThreshold(d, d, d);}
\DoxyCodeLine{175     aabb\_min -\/= contactThreshold;}
\DoxyCodeLine{176     aabb\_max += contactThreshold;}
\DoxyCodeLine{177   \}}
\DoxyCodeLine{178 }
\DoxyCodeLine{183   std::shared\_ptr<CollisionObjectWrapper> \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_aac16253e236e7b230996bcfbc3b777c3}{clone}}()}
\DoxyCodeLine{184   \{}
\DoxyCodeLine{185     \textcolor{keyword}{auto} clone\_cow = std::make\_shared<CollisionObjectWrapper>();}
\DoxyCodeLine{186     clone\_cow-\/>m\_name = \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3e7b8010f943830140a6d866e84eb077}{m\_name}};}
\DoxyCodeLine{187     clone\_cow-\/>m\_type\_id = \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a249d6761da873592d805ad27a8f77d59}{m\_type\_id}};}
\DoxyCodeLine{188     clone\_cow-\/>m\_shapes = \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a70781c8761f29a7ae7b3d5d79a931ef1}{m\_shapes}};}
\DoxyCodeLine{189     clone\_cow-\/>m\_shape\_poses = \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ac370a5639754b135ddc65cab3a3d2cb7}{m\_shape\_poses}};}
\DoxyCodeLine{190     clone\_cow-\/>m\_data = \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3057d15c3ea807f0226ece57a376e879}{m\_data}};}
\DoxyCodeLine{191     clone\_cow-\/>setCollisionShape(getCollisionShape());}
\DoxyCodeLine{192     clone\_cow-\/>setWorldTransform(getWorldTransform());}
\DoxyCodeLine{193     clone\_cow-\/>m\_collisionFilterGroup = \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ab740f54bab539fcd90991ff0bd6a173e}{m\_collisionFilterGroup}};}
\DoxyCodeLine{194     clone\_cow-\/>m\_collisionFilterMask = \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_aeeefb43862813ac5ef3d7350248d36eb}{m\_collisionFilterMask}};}
\DoxyCodeLine{195     clone\_cow-\/>m\_enabled = \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a53a5a8a7c0290137c219324eb7bd2130}{m\_enabled}};}
\DoxyCodeLine{196     clone\_cow-\/>setBroadphaseHandle(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{197     \textcolor{keywordflow}{return} clone\_cow;}
\DoxyCodeLine{198   \}}
\DoxyCodeLine{199 }
\DoxyCodeLine{200   \textcolor{keywordtype}{void} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a370f6c31b44afc1cc6ea4401c6e5cb23}{manage}}(\textcolor{keyword}{const} std::shared\_ptr<btCollisionShape>\& t) \{ \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3057d15c3ea807f0226ece57a376e879}{m\_data}}.push\_back(t); \}}
\DoxyCodeLine{201 }
\DoxyCodeLine{202   \textcolor{keywordtype}{void} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a25002f2bf6c863ddf552491a7bea67fc}{manageReserve}}(std::size\_t s) \{ \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3057d15c3ea807f0226ece57a376e879}{m\_data}}.reserve(s); \}}
\DoxyCodeLine{203 }
\DoxyCodeLine{204 \textcolor{keyword}{protected}:}
\DoxyCodeLine{205   std::string \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3e7b8010f943830140a6d866e84eb077}{m\_name}};                               }
\DoxyCodeLine{206   \textcolor{keywordtype}{int} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a249d6761da873592d805ad27a8f77d59}{m\_type\_id}}\{ -\/1 \};                              }
\DoxyCodeLine{207   \mbox{\hyperlink{namespacetesseract__collision_a2472107aae8174a30873bb0a955c3cb4}{CollisionShapesConst}} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a70781c8761f29a7ae7b3d5d79a931ef1}{m\_shapes}};                    }
\DoxyCodeLine{208   \mbox{\hyperlink{namespacetesseract__common_a94d9921fc7ed323609ac57d06f939cb6}{tesseract\_common::VectorIsometry3d}} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ac370a5639754b135ddc65cab3a3d2cb7}{m\_shape\_poses}}; }
\DoxyCodeLine{211   std::vector<std::shared\_ptr<btCollisionShape>> \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3057d15c3ea807f0226ece57a376e879}{m\_data}};}
\DoxyCodeLine{212 \};}
\DoxyCodeLine{213 }
\DoxyCodeLine{214 \textcolor{keyword}{using }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{COW}} = \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}};}
\DoxyCodeLine{215 \textcolor{keyword}{using }\mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a6bdaed18a18bda60c2af7da1a2202bef}{Link2Cow}} = std::map<std::string, COW::Ptr>;}
\DoxyCodeLine{216 \textcolor{keyword}{using }\mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_ac2c34b48bdb15d7b05af36ea34477bb9}{Link2ConstCow}} = std::map<std::string, COW::ConstPtr>;}
\DoxyCodeLine{217 }
\DoxyCodeLine{219 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape}{CastHullShape}} : \textcolor{keyword}{public} btConvexShape}
\DoxyCodeLine{220 \{}
\DoxyCodeLine{221 \textcolor{keyword}{public}:}
\DoxyCodeLine{222   btConvexShape* \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a338cc12c22af4ca5a8ea7e09aa7c6d64}{m\_shape}};}
\DoxyCodeLine{223   btTransform \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a7cc5a2db45a4006af83c21d61dc62fbe}{m\_t01}};}
\DoxyCodeLine{224 }
\DoxyCodeLine{225   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a3c14ee4f3bd5616e305344046b8874bb}{CastHullShape}}(btConvexShape* shape, \textcolor{keyword}{const} btTransform\& t01) : \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a338cc12c22af4ca5a8ea7e09aa7c6d64}{m\_shape}}(shape), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a7cc5a2db45a4006af83c21d61dc62fbe}{m\_t01}}(t01)}
\DoxyCodeLine{226   \{}
\DoxyCodeLine{227     m\_shapeType = CUSTOM\_CONVEX\_SHAPE\_TYPE;}
\DoxyCodeLine{228     setUserIndex(\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a338cc12c22af4ca5a8ea7e09aa7c6d64}{m\_shape}}-\/>getUserIndex());}
\DoxyCodeLine{229   \}}
\DoxyCodeLine{230 }
\DoxyCodeLine{231   \textcolor{keywordtype}{void} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_aa8bdb28ba2e7a302861bdcf57c2018da}{updateCastTransform}}(\textcolor{keyword}{const} btTransform\& t01) \{ \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a7cc5a2db45a4006af83c21d61dc62fbe}{m\_t01}} = t01; \}}
\DoxyCodeLine{232   btVector3 \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a61f66ad87a63240efd8bf4f67dc49186}{localGetSupportingVertex}}(\textcolor{keyword}{const} btVector3\& vec)\textcolor{keyword}{ const override}}
\DoxyCodeLine{233 \textcolor{keyword}{  }\{}
\DoxyCodeLine{234     btVector3 sv0 = \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a338cc12c22af4ca5a8ea7e09aa7c6d64}{m\_shape}}-\/>localGetSupportingVertex(vec);}
\DoxyCodeLine{235     btVector3 sv1 = \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a7cc5a2db45a4006af83c21d61dc62fbe}{m\_t01}} * \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a338cc12c22af4ca5a8ea7e09aa7c6d64}{m\_shape}}-\/>localGetSupportingVertex(vec * \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a7cc5a2db45a4006af83c21d61dc62fbe}{m\_t01}}.getBasis());}
\DoxyCodeLine{236     \textcolor{keywordflow}{return} (vec.dot(sv0) > vec.dot(sv1)) ? sv0 : sv1;}
\DoxyCodeLine{237   \}}
\DoxyCodeLine{238 }
\DoxyCodeLine{240   \textcolor{keywordtype}{void} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a82085e332ec1687314b64b19f7715df8}{getAabb}}(\textcolor{keyword}{const} btTransform\& t\_w0, btVector3\& aabbMin, btVector3\& aabbMax)\textcolor{keyword}{ const override}}
\DoxyCodeLine{241 \textcolor{keyword}{  }\{}
\DoxyCodeLine{242     \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a338cc12c22af4ca5a8ea7e09aa7c6d64}{m\_shape}}-\/>getAabb(t\_w0, aabbMin, aabbMax);}
\DoxyCodeLine{243     btVector3 min1, max1;}
\DoxyCodeLine{244     \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a338cc12c22af4ca5a8ea7e09aa7c6d64}{m\_shape}}-\/>getAabb(t\_w0 * \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a7cc5a2db45a4006af83c21d61dc62fbe}{m\_t01}}, min1, max1);}
\DoxyCodeLine{245     aabbMin.setMin(min1);}
\DoxyCodeLine{246     aabbMax.setMax(max1);}
\DoxyCodeLine{247   \}}
\DoxyCodeLine{248 }
\DoxyCodeLine{249   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_aaa071d6efde2687dad1394da8d58e374}{getName}}()\textcolor{keyword}{ const override }\{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}CastHull"{}}; \}}
\DoxyCodeLine{250   btVector3 \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a462c1c65713a84b12d1b102c3a87ef25}{localGetSupportingVertexWithoutMargin}}(\textcolor{keyword}{const} btVector3\& v)\textcolor{keyword}{ const override}}
\DoxyCodeLine{251 \textcolor{keyword}{  }\{}
\DoxyCodeLine{252     \textcolor{keywordflow}{return} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a61f66ad87a63240efd8bf4f67dc49186}{localGetSupportingVertex}}(v);}
\DoxyCodeLine{253   \}}
\DoxyCodeLine{254 }
\DoxyCodeLine{255   \textcolor{comment}{// LCOV\_EXCL\_START}}
\DoxyCodeLine{256   \textcolor{comment}{// notice that the vectors should be unit length}}
\DoxyCodeLine{257   \textcolor{keywordtype}{void} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a1587092845cd65a21d6c641e72bfbfd9}{batchedUnitVectorGetSupportingVertexWithoutMargin}}(\textcolor{keyword}{const} btVector3* \textcolor{comment}{/*vectors*/},}
\DoxyCodeLine{258                                                          btVector3* \textcolor{comment}{/*supportVerticesOut*/},}
\DoxyCodeLine{259                                                          \textcolor{keywordtype}{int} \textcolor{comment}{/*numVectors*/})\textcolor{keyword}{ const override}}
\DoxyCodeLine{260 \textcolor{keyword}{  }\{}
\DoxyCodeLine{261     \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}If you are seeing this error message then something in Bullet must have changed. Attach "{}}}
\DoxyCodeLine{262                              \textcolor{stringliteral}{"{}a debugger and inspect the call stack to find the function in Bullet calling this "{}}}
\DoxyCodeLine{263                              \textcolor{stringliteral}{"{}function, then review commit history to determine what change."{}});}
\DoxyCodeLine{264   \}}
\DoxyCodeLine{265 }
\DoxyCodeLine{266   \textcolor{keywordtype}{void} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_ab88a9a22ddc3d079f3ce2b11cb255ec7}{getAabbSlow}}(\textcolor{keyword}{const} btTransform\& \textcolor{comment}{/*t*/}, btVector3\& \textcolor{comment}{/*aabbMin*/}, btVector3\& \textcolor{comment}{/*aabbMax*/})\textcolor{keyword}{ const override}}
\DoxyCodeLine{267 \textcolor{keyword}{  }\{}
\DoxyCodeLine{268     \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}If you are seeing this error message then something in Bullet must have changed. Attach "{}}}
\DoxyCodeLine{269                              \textcolor{stringliteral}{"{}a debugger and inspect the call stack to find the function in Bullet calling this "{}}}
\DoxyCodeLine{270                              \textcolor{stringliteral}{"{}function, then review commit history to determine what change."{}});}
\DoxyCodeLine{271   \}}
\DoxyCodeLine{272 }
\DoxyCodeLine{273   \textcolor{keywordtype}{void} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a5908e0811dd3b5f62e3eaba362a2f301}{setLocalScaling}}(\textcolor{keyword}{const} btVector3\& \textcolor{comment}{/*scaling*/})\textcolor{keyword}{ override}}
\DoxyCodeLine{274 \textcolor{keyword}{  }\{}
\DoxyCodeLine{275     \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}If you are seeing this error message then something in Bullet must have changed. Attach "{}}}
\DoxyCodeLine{276                              \textcolor{stringliteral}{"{}a debugger and inspect the call stack to find the function in Bullet calling this "{}}}
\DoxyCodeLine{277                              \textcolor{stringliteral}{"{}function, then review commit history to determine what change."{}});}
\DoxyCodeLine{278   \}}
\DoxyCodeLine{279 }
\DoxyCodeLine{280   \textcolor{keyword}{const} btVector3\& \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a0bf20cbf71216ef4f8feea417ada45ff}{getLocalScaling}}()\textcolor{keyword}{ const override}}
\DoxyCodeLine{281 \textcolor{keyword}{  }\{}
\DoxyCodeLine{282     \textcolor{keyword}{static} btVector3 out(1, 1, 1);}
\DoxyCodeLine{283     \textcolor{keywordflow}{return} out;}
\DoxyCodeLine{284   \}}
\DoxyCodeLine{285 }
\DoxyCodeLine{286   \textcolor{keywordtype}{void} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a83d5aeed5ba70e696b0eae841a6b4a85}{setMargin}}(btScalar \textcolor{comment}{/*margin*/})\textcolor{keyword}{ override }\{\}}
\DoxyCodeLine{287 }
\DoxyCodeLine{288   btScalar \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a651f22cb8e66f9e41d3d36c1198fe7ce}{getMargin}}()\textcolor{keyword}{ const override }\{ \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{289 }
\DoxyCodeLine{290   \textcolor{keywordtype}{int} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a75c9f6867e886c7f54809e55eddeac13}{getNumPreferredPenetrationDirections}}()\textcolor{keyword}{ const override }\{ \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{291 }
\DoxyCodeLine{292   \textcolor{keywordtype}{void} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a5d6f4942b52fd23372487bd05f366510}{getPreferredPenetrationDirection}}(\textcolor{keywordtype}{int} \textcolor{comment}{/*index*/}, btVector3\& \textcolor{comment}{/*penetrationVector*/})\textcolor{keyword}{ const override}}
\DoxyCodeLine{293 \textcolor{keyword}{  }\{}
\DoxyCodeLine{294     \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}If you are seeing this error message then something in Bullet must have changed. Attach "{}}}
\DoxyCodeLine{295                              \textcolor{stringliteral}{"{}a debugger and inspect the call stack to find the function in Bullet calling this "{}}}
\DoxyCodeLine{296                              \textcolor{stringliteral}{"{}function, then review commit history to determine what change."{}});}
\DoxyCodeLine{297   \}}
\DoxyCodeLine{298 }
\DoxyCodeLine{299   \textcolor{keywordtype}{void} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape_a50a12d20eea144fa9fe93f0198b1f092}{calculateLocalInertia}}(btScalar, btVector3\&)\textcolor{keyword}{ const override}}
\DoxyCodeLine{300 \textcolor{keyword}{  }\{}
\DoxyCodeLine{301     \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}If you are seeing this error message then something in Bullet must have changed. Attach "{}}}
\DoxyCodeLine{302                              \textcolor{stringliteral}{"{}a debugger and inspect the call stack to find the function in Bullet calling this "{}}}
\DoxyCodeLine{303                              \textcolor{stringliteral}{"{}function, then review commit history to determine what change."{}});}
\DoxyCodeLine{304   \}}
\DoxyCodeLine{305   \textcolor{comment}{// LCOV\_EXCL\_STOP}}
\DoxyCodeLine{306 \};}
\DoxyCodeLine{307 }
\DoxyCodeLine{308 \textcolor{keyword}{inline} \textcolor{keywordtype}{void}}
\DoxyCodeLine{309 \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a51292eb04f12dbe924dd89888641c11e}{GetAverageSupport}}(\textcolor{keyword}{const} btConvexShape* shape, \textcolor{keyword}{const} btVector3\& localNormal, btScalar\& outsupport, btVector3\& outpt)}
\DoxyCodeLine{310 \{}
\DoxyCodeLine{311   btVector3 ptSum(0, 0, 0);}
\DoxyCodeLine{312   btScalar ptCount = 0;}
\DoxyCodeLine{313   btScalar maxSupport = -\/1000;}
\DoxyCodeLine{314 }
\DoxyCodeLine{315   \textcolor{keyword}{const} \textcolor{keyword}{auto}* pshape = \textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const }btPolyhedralConvexShape*\textcolor{keyword}{>}(shape);}
\DoxyCodeLine{316   \textcolor{keywordflow}{if} (pshape != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{317   \{}
\DoxyCodeLine{318     \textcolor{keywordtype}{int} nPts = pshape-\/>getNumVertices();}
\DoxyCodeLine{319 }
\DoxyCodeLine{320     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < nPts; ++i)}
\DoxyCodeLine{321     \{}
\DoxyCodeLine{322       btVector3 pt;}
\DoxyCodeLine{323       pshape-\/>getVertex(i, pt);}
\DoxyCodeLine{324 }
\DoxyCodeLine{325       btScalar sup = pt.dot(localNormal);}
\DoxyCodeLine{326       \textcolor{keywordflow}{if} (sup > maxSupport + \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_aab006a26f46e1adf705e5cc9bdd2da7d}{BULLET\_EPSILON}})}
\DoxyCodeLine{327       \{}
\DoxyCodeLine{328         ptCount = 1;}
\DoxyCodeLine{329         ptSum = pt;}
\DoxyCodeLine{330         maxSupport = sup;}
\DoxyCodeLine{331       \}}
\DoxyCodeLine{332       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (sup < maxSupport -\/ \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_aab006a26f46e1adf705e5cc9bdd2da7d}{BULLET\_EPSILON}})}
\DoxyCodeLine{333       \{}
\DoxyCodeLine{334       \}}
\DoxyCodeLine{335       \textcolor{keywordflow}{else}}
\DoxyCodeLine{336       \{}
\DoxyCodeLine{337         ptCount += 1;}
\DoxyCodeLine{338         ptSum += pt;}
\DoxyCodeLine{339       \}}
\DoxyCodeLine{340     \}}
\DoxyCodeLine{341     outsupport = maxSupport;}
\DoxyCodeLine{342     outpt = ptSum / ptCount;}
\DoxyCodeLine{343   \}}
\DoxyCodeLine{344   \textcolor{keywordflow}{else}}
\DoxyCodeLine{345   \{}
\DoxyCodeLine{346     \textcolor{comment}{// The margins are set to zero for most shapes, but for a sphere the margin is used so must use}}
\DoxyCodeLine{347     \textcolor{comment}{// localGetSupportingVertex instead of localGetSupportingVertexWithoutMargin.}}
\DoxyCodeLine{348     outpt = shape-\/>localGetSupportingVertex(localNormal);}
\DoxyCodeLine{349     outsupport = localNormal.dot(outpt);}
\DoxyCodeLine{350   \}}
\DoxyCodeLine{351 \}}
\DoxyCodeLine{352 }
\DoxyCodeLine{359 \textcolor{keyword}{inline} btTransform \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a913156c9424f8b201c5e754e67f117bb}{getLinkTransformFromCOW}}(\textcolor{keyword}{const} btCollisionObjectWrapper* cow)}
\DoxyCodeLine{360 \{}
\DoxyCodeLine{361   \textcolor{keywordflow}{if} (cow-\/>m\_parent != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{362   \{}
\DoxyCodeLine{363     \textcolor{keywordflow}{if} (cow-\/>m\_parent-\/>m\_parent != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{364     \{}
\DoxyCodeLine{365       assert(cow-\/>m\_parent-\/>m\_parent-\/>m\_parent == \textcolor{keyword}{nullptr});}
\DoxyCodeLine{366       \textcolor{keywordflow}{return} cow-\/>m\_parent-\/>m\_parent-\/>getWorldTransform();}
\DoxyCodeLine{367     \}}
\DoxyCodeLine{368 }
\DoxyCodeLine{369     \textcolor{keywordflow}{return} cow-\/>m\_parent-\/>getWorldTransform();}
\DoxyCodeLine{370   \}}
\DoxyCodeLine{371 }
\DoxyCodeLine{372   \textcolor{keywordflow}{return} cow-\/>getWorldTransform();}
\DoxyCodeLine{373 \}}
\DoxyCodeLine{374 }
\DoxyCodeLine{383 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a53bb16a8ea8e89c25099ec490dec0ab3}{needsCollisionCheck}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{COW}}\& cow1, \textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{COW}}\& cow2, \textcolor{keyword}{const} \mbox{\hyperlink{namespacetesseract__collision_abe7752ce161fbd1139533ac566fec1cb}{IsContactAllowedFn}}\& acm, \textcolor{keywordtype}{bool} verbose = \textcolor{keyword}{false})}
\DoxyCodeLine{384 \{}
\DoxyCodeLine{385   \textcolor{keywordflow}{return} cow1.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a53a5a8a7c0290137c219324eb7bd2130}{m\_enabled}} \&\& cow2.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a53a5a8a7c0290137c219324eb7bd2130}{m\_enabled}} \&\& (cow2.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ab740f54bab539fcd90991ff0bd6a173e}{m\_collisionFilterGroup}} \& cow1.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_aeeefb43862813ac5ef3d7350248d36eb}{m\_collisionFilterMask}}) \&\&  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{386          (cow1.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_ab740f54bab539fcd90991ff0bd6a173e}{m\_collisionFilterGroup}} \& cow2.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_aeeefb43862813ac5ef3d7350248d36eb}{m\_collisionFilterMask}}) \&\&                                      \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{387          !\mbox{\hyperlink{namespacetesseract__collision_a1d5b1daf53ea0152f87f4ab565643478}{isContactAllowed}}(cow1.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a2ab5a07ecba0440840e78fbfa5916185}{getName}}(), cow2.\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a2ab5a07ecba0440840e78fbfa5916185}{getName}}(), acm, verbose);}
\DoxyCodeLine{388 \}}
\DoxyCodeLine{389 }
\DoxyCodeLine{390 \textcolor{keyword}{inline} btScalar \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a944725e709ae64de91e9b04a2fda3c3f}{addDiscreteSingleResult}}(btManifoldPoint\& cp,}
\DoxyCodeLine{391                                         \textcolor{keyword}{const} btCollisionObjectWrapper* colObj0Wrap,}
\DoxyCodeLine{392                                         \textcolor{keyword}{const} btCollisionObjectWrapper* colObj1Wrap,}
\DoxyCodeLine{393                                         \mbox{\hyperlink{structtesseract__collision_1_1ContactTestData}{ContactTestData}}\& collisions)}
\DoxyCodeLine{394 \{}
\DoxyCodeLine{395   assert(\textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(colObj0Wrap-\/>getCollisionObject()) != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{396   assert(\textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(colObj1Wrap-\/>getCollisionObject()) != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{397   \textcolor{keyword}{const} \textcolor{keyword}{auto}* cd0 = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(colObj0Wrap-\/>getCollisionObject());  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{398   \textcolor{keyword}{const} \textcolor{keyword}{auto}* cd1 = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(colObj1Wrap-\/>getCollisionObject());  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{399 }
\DoxyCodeLine{400   \mbox{\hyperlink{namespacetesseract__collision_af5926355228f0196ddf51e6951dbe491}{ObjectPairKey}} pc = \mbox{\hyperlink{namespacetesseract__collision_a0876bd0182505440236643eb5bade1c7}{getObjectPairKey}}(cd0-\/>getName(), cd1-\/>getName());}
\DoxyCodeLine{401 }
\DoxyCodeLine{402   \textcolor{keyword}{const} \textcolor{keyword}{auto}\& it = collisions.\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData_ab1f4df903d99975e900e916eaa356ce0}{res}}-\/>find(pc);}
\DoxyCodeLine{403   \textcolor{keywordtype}{bool} found = (it != collisions.\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData_ab1f4df903d99975e900e916eaa356ce0}{res}}-\/>end());}
\DoxyCodeLine{404 }
\DoxyCodeLine{405   \textcolor{comment}{//    size\_t l = 0;}}
\DoxyCodeLine{406   \textcolor{comment}{//    if (found)}}
\DoxyCodeLine{407   \textcolor{comment}{//    \{}}
\DoxyCodeLine{408   \textcolor{comment}{//      l = it-\/>second.size();}}
\DoxyCodeLine{409   \textcolor{comment}{//      if (m\_collisions.req-\/>type == DistanceRequestType::LIMITED \&\& l >= m\_collisions.req-\/>max\_contacts\_per\_body)}}
\DoxyCodeLine{410   \textcolor{comment}{//          return 0;}}
\DoxyCodeLine{411 }
\DoxyCodeLine{412   \textcolor{comment}{//    \}}}
\DoxyCodeLine{413 }
\DoxyCodeLine{414   btTransform tf0 = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a913156c9424f8b201c5e754e67f117bb}{getLinkTransformFromCOW}}(colObj0Wrap);}
\DoxyCodeLine{415   btTransform tf1 = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a913156c9424f8b201c5e754e67f117bb}{getLinkTransformFromCOW}}(colObj1Wrap);}
\DoxyCodeLine{416   btTransform tf0\_inv = tf0.inverse();}
\DoxyCodeLine{417   btTransform tf1\_inv = tf1.inverse();}
\DoxyCodeLine{418 }
\DoxyCodeLine{419   \mbox{\hyperlink{structtesseract__collision_1_1ContactResult}{ContactResult}} contact;}
\DoxyCodeLine{420   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a74d51f58d9ed6a64a50ba1c09da16b8a}{link\_names}}[0] = cd0-\/>getName();}
\DoxyCodeLine{421   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a74d51f58d9ed6a64a50ba1c09da16b8a}{link\_names}}[1] = cd1-\/>getName();}
\DoxyCodeLine{422   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_aeb033efd4c805de85130a3b4fa9057ef}{shape\_id}}[0] = colObj0Wrap-\/>getCollisionShape()-\/>getUserIndex();}
\DoxyCodeLine{423   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_aeb033efd4c805de85130a3b4fa9057ef}{shape\_id}}[1] = colObj1Wrap-\/>getCollisionShape()-\/>getUserIndex();}
\DoxyCodeLine{424   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a97b98b12ec2d284e03b7e29b91f90ac5}{subshape\_id}}[0] = colObj0Wrap-\/>m\_index;}
\DoxyCodeLine{425   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a97b98b12ec2d284e03b7e29b91f90ac5}{subshape\_id}}[1] = colObj1Wrap-\/>m\_index;}
\DoxyCodeLine{426   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a94258fa13fe82619f38635a89f255d79}{nearest\_points}}[0] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(cp.m\_positionWorldOnA);}
\DoxyCodeLine{427   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a94258fa13fe82619f38635a89f255d79}{nearest\_points}}[1] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(cp.m\_positionWorldOnB);}
\DoxyCodeLine{428   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_ac1b348ce75229f4c4abf8bff16a8f2fc}{nearest\_points\_local}}[0] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(tf0\_inv * cp.m\_positionWorldOnA);}
\DoxyCodeLine{429   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_ac1b348ce75229f4c4abf8bff16a8f2fc}{nearest\_points\_local}}[1] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(tf1\_inv * cp.m\_positionWorldOnB);}
\DoxyCodeLine{430   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a8e6635a73aa5e102d1b1ed93c7e6bb02}{transform}}[0] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(tf0);}
\DoxyCodeLine{431   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a8e6635a73aa5e102d1b1ed93c7e6bb02}{transform}}[1] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(tf1);}
\DoxyCodeLine{432   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_afc74246ec6e2322ec6c40b6b785c05fa}{type\_id}}[0] = cd0-\/>getTypeID();}
\DoxyCodeLine{433   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_afc74246ec6e2322ec6c40b6b785c05fa}{type\_id}}[1] = cd1-\/>getTypeID();}
\DoxyCodeLine{434   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a8c773b96dd8883536ed5b55d0633cc16}{distance}} = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(cp.m\_distance1);}
\DoxyCodeLine{435   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a5601eaa7ac60c9c7d4515976e6eb0a76}{normal}} = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(-\/1 * cp.m\_normalWorldOnB);}
\DoxyCodeLine{436 }
\DoxyCodeLine{437   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacetesseract__collision_a883c51241e0ae2933532c43f8841a3f0}{processResult}}(collisions, contact, pc, found) == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{438     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{439 }
\DoxyCodeLine{440   \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{441 \}}
\DoxyCodeLine{442 }
\DoxyCodeLine{452 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_af7c6dd578ec01e9c79a65f4f5e7a65d4}{calculateContinuousData}}(\mbox{\hyperlink{structtesseract__collision_1_1ContactResult}{ContactResult}}* col,}
\DoxyCodeLine{453                                     \textcolor{keyword}{const} btCollisionObjectWrapper* cow,}
\DoxyCodeLine{454                                     \textcolor{keyword}{const} btVector3\& pt\_world,}
\DoxyCodeLine{455                                     \textcolor{keyword}{const} btVector3\& normal\_world,}
\DoxyCodeLine{456                                     \textcolor{keyword}{const} btTransform\& link\_tf\_inv,}
\DoxyCodeLine{457                                     \textcolor{keywordtype}{size\_t} link\_index)}
\DoxyCodeLine{458 \{}
\DoxyCodeLine{459   assert(\textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape}{CastHullShape}}*\textcolor{keyword}{>}(cow-\/>getCollisionShape()) != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{460   \textcolor{keyword}{const} \textcolor{keyword}{auto}* shape = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastHullShape}{CastHullShape}}*\textcolor{keyword}{>}(cow-\/>getCollisionShape());}
\DoxyCodeLine{461   assert(shape != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{462 }
\DoxyCodeLine{463   \textcolor{comment}{// Get the start and final location of the shape}}
\DoxyCodeLine{464   btTransform shape\_tfWorld0 = cow-\/>getWorldTransform();}
\DoxyCodeLine{465   btTransform shape\_tfWorld1 = cow-\/>getWorldTransform() * shape-\/>m\_t01;}
\DoxyCodeLine{466 }
\DoxyCodeLine{467   \textcolor{comment}{// Given the shapes final location calculate the links transform at the final location}}
\DoxyCodeLine{468   Eigen::Isometry3d s = col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a8e6635a73aa5e102d1b1ed93c7e6bb02}{transform}}[link\_index].inverse() * \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(shape\_tfWorld0);}
\DoxyCodeLine{469   col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_aa2447eb6d6186c1862620025516df60d}{cc\_transform}}[link\_index] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(shape\_tfWorld1) * s.inverse();}
\DoxyCodeLine{470 }
\DoxyCodeLine{471   \textcolor{comment}{// Get the normal in the local shapes coordinate system at start and final location}}
\DoxyCodeLine{472   btVector3 shape\_normalLocal0 = normal\_world * shape\_tfWorld0.getBasis();}
\DoxyCodeLine{473   btVector3 shape\_normalLocal1 = normal\_world * shape\_tfWorld1.getBasis();}
\DoxyCodeLine{474 }
\DoxyCodeLine{475   \textcolor{comment}{// Calculate the contact point at the start location using the casted normal vector in thapes local coordinate system}}
\DoxyCodeLine{476   btVector3 shape\_ptLocal0;}
\DoxyCodeLine{477   btScalar shape\_localsup0\{ std::numeric\_limits<btScalar>::max() \};}
\DoxyCodeLine{478   \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a51292eb04f12dbe924dd89888641c11e}{GetAverageSupport}}(shape-\/>m\_shape, shape\_normalLocal0, shape\_localsup0, shape\_ptLocal0);}
\DoxyCodeLine{479   btVector3 shape\_ptWorld0 = shape\_tfWorld0 * shape\_ptLocal0;}
\DoxyCodeLine{480 }
\DoxyCodeLine{481   \textcolor{comment}{// Calculate the contact point at the final location using the casted normal vector in thapes local coordinate system}}
\DoxyCodeLine{482   btVector3 shape\_ptLocal1;}
\DoxyCodeLine{483   btScalar shape\_localsup1\{ std::numeric\_limits<btScalar>::max() \};}
\DoxyCodeLine{484   \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a51292eb04f12dbe924dd89888641c11e}{GetAverageSupport}}(shape-\/>m\_shape, shape\_normalLocal1, shape\_localsup1, shape\_ptLocal1);}
\DoxyCodeLine{485   btVector3 shape\_ptWorld1 = shape\_tfWorld1 * shape\_ptLocal1;}
\DoxyCodeLine{486 }
\DoxyCodeLine{487   btScalar shape\_sup0 = normal\_world.dot(shape\_ptWorld0);}
\DoxyCodeLine{488   btScalar shape\_sup1 = normal\_world.dot(shape\_ptWorld1);}
\DoxyCodeLine{489 }
\DoxyCodeLine{490   \textcolor{comment}{// TODO: this section is potentially problematic. think hard about the math}}
\DoxyCodeLine{491   \textcolor{keywordflow}{if} (shape\_sup0 -\/ shape\_sup1 > \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a97bfd73cacd135c11ff3c49bc72ed4e1}{BULLET\_SUPPORT\_FUNC\_TOLERANCE}})}
\DoxyCodeLine{492   \{}
\DoxyCodeLine{493     \textcolor{comment}{// LCOV\_EXCL\_START}}
\DoxyCodeLine{494     col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_ab9c739029a29b7655eb32e15b9cc3482}{cc\_time}}[link\_index] = 0;}
\DoxyCodeLine{495     col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_aeb4f5be24b1796ca5ed4fef9290112b6}{cc\_type}}[link\_index] = \mbox{\hyperlink{namespacetesseract__collision_a267c740fd3b446222ba19cbaa56dab5eaf8c51e6d7c61aa31897c3dd7b0719093}{ContinuousCollisionType::CCType\_Time0}};}
\DoxyCodeLine{496     \textcolor{comment}{// LCOV\_EXCL\_STOP}}
\DoxyCodeLine{497   \}}
\DoxyCodeLine{498   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (shape\_sup1 -\/ shape\_sup0 > \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a97bfd73cacd135c11ff3c49bc72ed4e1}{BULLET\_SUPPORT\_FUNC\_TOLERANCE}})}
\DoxyCodeLine{499   \{}
\DoxyCodeLine{500     \textcolor{comment}{// LCOV\_EXCL\_START}}
\DoxyCodeLine{501     col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_ab9c739029a29b7655eb32e15b9cc3482}{cc\_time}}[link\_index] = 1;}
\DoxyCodeLine{502     col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_aeb4f5be24b1796ca5ed4fef9290112b6}{cc\_type}}[link\_index] = \mbox{\hyperlink{namespacetesseract__collision_a267c740fd3b446222ba19cbaa56dab5ea333ec902092c850b7f23cf437d0fac01}{ContinuousCollisionType::CCType\_Time1}};}
\DoxyCodeLine{503     \textcolor{comment}{// LCOV\_EXCL\_STOP}}
\DoxyCodeLine{504   \}}
\DoxyCodeLine{505   \textcolor{keywordflow}{else}}
\DoxyCodeLine{506   \{}
\DoxyCodeLine{507     \textcolor{comment}{// Given the contact point at the start and final location along with the casted contact point}}
\DoxyCodeLine{508     \textcolor{comment}{// the time between 0 and 1 can be calculated along the path between the start and final location contact occurs.}}
\DoxyCodeLine{509     btScalar l0c = (pt\_world -\/ shape\_ptWorld0).length();}
\DoxyCodeLine{510     btScalar l1c = (pt\_world -\/ shape\_ptWorld1).length();}
\DoxyCodeLine{511 }
\DoxyCodeLine{512     col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_ac1b348ce75229f4c4abf8bff16a8f2fc}{nearest\_points\_local}}[link\_index] =}
\DoxyCodeLine{513         \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(link\_tf\_inv * (shape\_tfWorld0 * ((shape\_ptLocal0 + shape\_ptLocal1) / 2.0)));}
\DoxyCodeLine{514     col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_aeb4f5be24b1796ca5ed4fef9290112b6}{cc\_type}}[link\_index] = \mbox{\hyperlink{namespacetesseract__collision_a267c740fd3b446222ba19cbaa56dab5ea1101988a82b0cd8a2e2c5ee5fda455eb}{ContinuousCollisionType::CCType\_Between}};}
\DoxyCodeLine{515 }
\DoxyCodeLine{516     \textcolor{keywordflow}{if} (l0c + l1c < \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a05205b4124342db952ef29e48a0c2ca2}{BULLET\_LENGTH\_TOLERANCE}})}
\DoxyCodeLine{517     \{}
\DoxyCodeLine{518       col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_ab9c739029a29b7655eb32e15b9cc3482}{cc\_time}}[link\_index] = .5;  \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{519     \}}
\DoxyCodeLine{520     \textcolor{keywordflow}{else}}
\DoxyCodeLine{521     \{}
\DoxyCodeLine{522       col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_ab9c739029a29b7655eb32e15b9cc3482}{cc\_time}}[link\_index] = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(l0c / (l0c + l1c));}
\DoxyCodeLine{523     \}}
\DoxyCodeLine{524   \}}
\DoxyCodeLine{525 \}}
\DoxyCodeLine{526 }
\DoxyCodeLine{527 \textcolor{keyword}{inline} btScalar \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_afe5c2394544085ab600b5d8ff5d49508}{addCastSingleResult}}(btManifoldPoint\& cp,}
\DoxyCodeLine{528                                     \textcolor{keyword}{const} btCollisionObjectWrapper* colObj0Wrap,}
\DoxyCodeLine{529                                     \textcolor{keywordtype}{int} \textcolor{comment}{/*index0*/},}
\DoxyCodeLine{530                                     \textcolor{keyword}{const} btCollisionObjectWrapper* colObj1Wrap,}
\DoxyCodeLine{531                                     \textcolor{keywordtype}{int} \textcolor{comment}{/*index1*/},}
\DoxyCodeLine{532                                     \mbox{\hyperlink{structtesseract__collision_1_1ContactTestData}{ContactTestData}}\& collisions)}
\DoxyCodeLine{533 \{}
\DoxyCodeLine{534   assert(\textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(colObj0Wrap-\/>getCollisionObject()) != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{535   assert(\textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(colObj1Wrap-\/>getCollisionObject()) != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{536   \textcolor{keyword}{const} \textcolor{keyword}{auto}* cd0 = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(colObj0Wrap-\/>getCollisionObject());  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{537   \textcolor{keyword}{const} \textcolor{keyword}{auto}* cd1 = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(colObj1Wrap-\/>getCollisionObject());  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{538 }
\DoxyCodeLine{539   \textcolor{keyword}{const} std::pair<std::string, std::string>\& pc = cd0-\/>\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a2ab5a07ecba0440840e78fbfa5916185}{getName}}() < cd1-\/>getName() ?}
\DoxyCodeLine{540                                                       std::make\_pair(cd0-\/>getName(), cd1-\/>getName()) :}
\DoxyCodeLine{541                                                       std::make\_pair(cd1-\/>getName(), cd0-\/>getName());}
\DoxyCodeLine{542 }
\DoxyCodeLine{543   \textcolor{keyword}{auto} it = collisions.\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData_ab1f4df903d99975e900e916eaa356ce0}{res}}-\/>find(pc);}
\DoxyCodeLine{544   \textcolor{keywordtype}{bool} found = it != collisions.\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData_ab1f4df903d99975e900e916eaa356ce0}{res}}-\/>end();}
\DoxyCodeLine{545 }
\DoxyCodeLine{546   \textcolor{comment}{//    size\_t l = 0;}}
\DoxyCodeLine{547   \textcolor{comment}{//    if (found)}}
\DoxyCodeLine{548   \textcolor{comment}{//    \{}}
\DoxyCodeLine{549   \textcolor{comment}{//      l = it-\/>second.size();}}
\DoxyCodeLine{550   \textcolor{comment}{//      if (m\_collisions.req-\/>type == DistanceRequestType::LIMITED \&\& l >= m\_collisions.req-\/>max\_contacts\_per\_body)}}
\DoxyCodeLine{551   \textcolor{comment}{//          return 0;}}
\DoxyCodeLine{552   \textcolor{comment}{//    \}}}
\DoxyCodeLine{553 }
\DoxyCodeLine{554   btTransform tf0 = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a913156c9424f8b201c5e754e67f117bb}{getLinkTransformFromCOW}}(colObj0Wrap);}
\DoxyCodeLine{555   btTransform tf1 = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a913156c9424f8b201c5e754e67f117bb}{getLinkTransformFromCOW}}(colObj1Wrap);}
\DoxyCodeLine{556   btTransform tf0\_inv = tf0.inverse();}
\DoxyCodeLine{557   btTransform tf1\_inv = tf1.inverse();}
\DoxyCodeLine{558 }
\DoxyCodeLine{559   \mbox{\hyperlink{structtesseract__collision_1_1ContactResult}{ContactResult}} contact;}
\DoxyCodeLine{560   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a74d51f58d9ed6a64a50ba1c09da16b8a}{link\_names}}[0] = cd0-\/>getName();}
\DoxyCodeLine{561   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a74d51f58d9ed6a64a50ba1c09da16b8a}{link\_names}}[1] = cd1-\/>getName();}
\DoxyCodeLine{562   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_aeb033efd4c805de85130a3b4fa9057ef}{shape\_id}}[0] = colObj0Wrap-\/>getCollisionShape()-\/>getUserIndex();}
\DoxyCodeLine{563   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_aeb033efd4c805de85130a3b4fa9057ef}{shape\_id}}[1] = colObj1Wrap-\/>getCollisionShape()-\/>getUserIndex();}
\DoxyCodeLine{564   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a97b98b12ec2d284e03b7e29b91f90ac5}{subshape\_id}}[0] = colObj0Wrap-\/>m\_index;}
\DoxyCodeLine{565   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a97b98b12ec2d284e03b7e29b91f90ac5}{subshape\_id}}[1] = colObj1Wrap-\/>m\_index;}
\DoxyCodeLine{566   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a94258fa13fe82619f38635a89f255d79}{nearest\_points}}[0] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(cp.m\_positionWorldOnA);}
\DoxyCodeLine{567   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a94258fa13fe82619f38635a89f255d79}{nearest\_points}}[1] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(cp.m\_positionWorldOnB);}
\DoxyCodeLine{568   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_ac1b348ce75229f4c4abf8bff16a8f2fc}{nearest\_points\_local}}[0] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(tf0\_inv * cp.m\_positionWorldOnA);}
\DoxyCodeLine{569   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_ac1b348ce75229f4c4abf8bff16a8f2fc}{nearest\_points\_local}}[1] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(tf1\_inv * cp.m\_positionWorldOnB);}
\DoxyCodeLine{570   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a8e6635a73aa5e102d1b1ed93c7e6bb02}{transform}}[0] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(tf0);}
\DoxyCodeLine{571   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a8e6635a73aa5e102d1b1ed93c7e6bb02}{transform}}[1] = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(tf1);}
\DoxyCodeLine{572   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_afc74246ec6e2322ec6c40b6b785c05fa}{type\_id}}[0] = cd0-\/>getTypeID();}
\DoxyCodeLine{573   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_afc74246ec6e2322ec6c40b6b785c05fa}{type\_id}}[1] = cd1-\/>getTypeID();}
\DoxyCodeLine{574   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a8c773b96dd8883536ed5b55d0633cc16}{distance}} = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(cp.m\_distance1);}
\DoxyCodeLine{575   contact.\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a5601eaa7ac60c9c7d4515976e6eb0a76}{normal}} = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a69baa807981c7c67f8deaf70c775a569}{convertBtToEigen}}(-\/1 * cp.m\_normalWorldOnB);}
\DoxyCodeLine{576 }
\DoxyCodeLine{577   \mbox{\hyperlink{structtesseract__collision_1_1ContactResult}{ContactResult}}* col = \mbox{\hyperlink{namespacetesseract__collision_a883c51241e0ae2933532c43f8841a3f0}{processResult}}(collisions, contact, pc, found);}
\DoxyCodeLine{578   \textcolor{keywordflow}{if} (col == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{579     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{580 }
\DoxyCodeLine{581   \textcolor{keywordflow}{if} (cd0-\/>m\_collisionFilterGroup == \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__fcl_af7dded074ea546324fb45b909fea527fa24a83bab934b56f9791d14d8a34f1b21}{btBroadphaseProxy::KinematicFilter}} \&\&}
\DoxyCodeLine{582       cd1-\/>m\_collisionFilterGroup == \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__fcl_af7dded074ea546324fb45b909fea527fa24a83bab934b56f9791d14d8a34f1b21}{btBroadphaseProxy::KinematicFilter}})}
\DoxyCodeLine{583   \{}
\DoxyCodeLine{584     \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_af7c6dd578ec01e9c79a65f4f5e7a65d4}{calculateContinuousData}}(col, colObj0Wrap, cp.m\_positionWorldOnA, -\/1 * cp.m\_normalWorldOnB, tf0\_inv, 0);}
\DoxyCodeLine{585     \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_af7c6dd578ec01e9c79a65f4f5e7a65d4}{calculateContinuousData}}(col, colObj1Wrap, cp.m\_positionWorldOnB, cp.m\_normalWorldOnB, tf1\_inv, 1);}
\DoxyCodeLine{586   \}}
\DoxyCodeLine{587   \textcolor{keywordflow}{else}}
\DoxyCodeLine{588   \{}
\DoxyCodeLine{589     \textcolor{keywordtype}{bool} castShapeIsFirst = (cd0-\/>m\_collisionFilterGroup == \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__fcl_af7dded074ea546324fb45b909fea527fa24a83bab934b56f9791d14d8a34f1b21}{btBroadphaseProxy::KinematicFilter}});}
\DoxyCodeLine{590     btVector3 normalWorldFromCast = -\/(castShapeIsFirst ? 1 : -\/1) * cp.m\_normalWorldOnB;}
\DoxyCodeLine{591     \textcolor{keyword}{const} btCollisionObjectWrapper* firstColObjWrap = (castShapeIsFirst ? colObj0Wrap : colObj1Wrap);}
\DoxyCodeLine{592     \textcolor{keyword}{const} btTransform\& first\_tf\_inv = (castShapeIsFirst ? tf0\_inv : tf1\_inv);}
\DoxyCodeLine{593     \textcolor{keyword}{const} btVector3\& ptOnCast = castShapeIsFirst ? cp.m\_positionWorldOnA : cp.m\_positionWorldOnB;}
\DoxyCodeLine{594 }
\DoxyCodeLine{595     \textcolor{keywordflow}{if} (castShapeIsFirst)}
\DoxyCodeLine{596     \{}
\DoxyCodeLine{597       std::swap(col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a94258fa13fe82619f38635a89f255d79}{nearest\_points}}[0], col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a94258fa13fe82619f38635a89f255d79}{nearest\_points}}[1]);}
\DoxyCodeLine{598       std::swap(col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_ac1b348ce75229f4c4abf8bff16a8f2fc}{nearest\_points\_local}}[0], col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_ac1b348ce75229f4c4abf8bff16a8f2fc}{nearest\_points\_local}}[1]);}
\DoxyCodeLine{599       std::swap(col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a8e6635a73aa5e102d1b1ed93c7e6bb02}{transform}}[0], col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a8e6635a73aa5e102d1b1ed93c7e6bb02}{transform}}[1]);}
\DoxyCodeLine{600       std::swap(col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a74d51f58d9ed6a64a50ba1c09da16b8a}{link\_names}}[0], col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a74d51f58d9ed6a64a50ba1c09da16b8a}{link\_names}}[1]);}
\DoxyCodeLine{601       std::swap(col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_afc74246ec6e2322ec6c40b6b785c05fa}{type\_id}}[0], col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_afc74246ec6e2322ec6c40b6b785c05fa}{type\_id}}[1]);}
\DoxyCodeLine{602       std::swap(col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_aeb033efd4c805de85130a3b4fa9057ef}{shape\_id}}[0], col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_aeb033efd4c805de85130a3b4fa9057ef}{shape\_id}}[1]);}
\DoxyCodeLine{603       std::swap(col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a97b98b12ec2d284e03b7e29b91f90ac5}{subshape\_id}}[0], col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a97b98b12ec2d284e03b7e29b91f90ac5}{subshape\_id}}[1]);}
\DoxyCodeLine{604       col-\/>\mbox{\hyperlink{structtesseract__collision_1_1ContactResult_a5601eaa7ac60c9c7d4515976e6eb0a76}{normal}} *= -\/1;}
\DoxyCodeLine{605     \}}
\DoxyCodeLine{606 }
\DoxyCodeLine{607     \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_af7c6dd578ec01e9c79a65f4f5e7a65d4}{calculateContinuousData}}(col, firstColObjWrap, ptOnCast, normalWorldFromCast, first\_tf\_inv, 1);}
\DoxyCodeLine{608   \}}
\DoxyCodeLine{609 }
\DoxyCodeLine{610   \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{611 \}}
\DoxyCodeLine{612 }
\DoxyCodeLine{614 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBridgedManifoldResult}{TesseractBridgedManifoldResult}} : \textcolor{keyword}{public} btManifoldResult}
\DoxyCodeLine{615 \{}
\DoxyCodeLine{616   btCollisionWorld::ContactResultCallback\& \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBridgedManifoldResult_a7f21053ec21062241fdbc52a82eef001}{m\_resultCallback}};}
\DoxyCodeLine{617 }
\DoxyCodeLine{618   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBridgedManifoldResult_a0e804ddc13497fb20856231c73d2bfe3}{TesseractBridgedManifoldResult}}(\textcolor{keyword}{const} btCollisionObjectWrapper* obj0Wrap,}
\DoxyCodeLine{619                                  \textcolor{keyword}{const} btCollisionObjectWrapper* obj1Wrap,}
\DoxyCodeLine{620                                  btCollisionWorld::ContactResultCallback\& resultCallback)}
\DoxyCodeLine{621     : btManifoldResult(obj0Wrap, obj1Wrap), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBridgedManifoldResult_a7f21053ec21062241fdbc52a82eef001}{m\_resultCallback}}(resultCallback)}
\DoxyCodeLine{622   \{}
\DoxyCodeLine{623   \}}
\DoxyCodeLine{624 }
\DoxyCodeLine{625   \textcolor{keywordtype}{void} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBridgedManifoldResult_afab68fe57185ecf96e4cbe674f2f7ac1}{addContactPoint}}(\textcolor{keyword}{const} btVector3\& normalOnBInWorld, \textcolor{keyword}{const} btVector3\& pointInWorld, btScalar depth)\textcolor{keyword}{ override}}
\DoxyCodeLine{626 \textcolor{keyword}{  }\{}
\DoxyCodeLine{627     \textcolor{keywordtype}{bool} isSwapped = m\_manifoldPtr-\/>getBody0() != m\_body0Wrap-\/>getCollisionObject();}
\DoxyCodeLine{628     btVector3 pointA = pointInWorld + normalOnBInWorld * depth;}
\DoxyCodeLine{629     btVector3 localA;}
\DoxyCodeLine{630     btVector3 localB;}
\DoxyCodeLine{631     \textcolor{keywordflow}{if} (isSwapped)}
\DoxyCodeLine{632     \{}
\DoxyCodeLine{633       localA = m\_body1Wrap-\/>getCollisionObject()-\/>getWorldTransform().invXform(pointA);}
\DoxyCodeLine{634       localB = m\_body0Wrap-\/>getCollisionObject()-\/>getWorldTransform().invXform(pointInWorld);}
\DoxyCodeLine{635     \}}
\DoxyCodeLine{636     \textcolor{keywordflow}{else}}
\DoxyCodeLine{637     \{}
\DoxyCodeLine{638       localA = m\_body0Wrap-\/>getCollisionObject()-\/>getWorldTransform().invXform(pointA);}
\DoxyCodeLine{639       localB = m\_body1Wrap-\/>getCollisionObject()-\/>getWorldTransform().invXform(pointInWorld);}
\DoxyCodeLine{640     \}}
\DoxyCodeLine{641 }
\DoxyCodeLine{642     btManifoldPoint newPt(localA, localB, normalOnBInWorld, depth);}
\DoxyCodeLine{643     newPt.m\_positionWorldOnA = pointA;}
\DoxyCodeLine{644     newPt.m\_positionWorldOnB = pointInWorld;}
\DoxyCodeLine{645 }
\DoxyCodeLine{646     \textcolor{comment}{// BP mod, store contact triangles.}}
\DoxyCodeLine{647     \textcolor{keywordflow}{if} (isSwapped)}
\DoxyCodeLine{648     \{}
\DoxyCodeLine{649       newPt.m\_partId0 = m\_partId1;}
\DoxyCodeLine{650       newPt.m\_partId1 = m\_partId0;}
\DoxyCodeLine{651       newPt.m\_index0 = m\_index1;}
\DoxyCodeLine{652       newPt.m\_index1 = m\_index0;}
\DoxyCodeLine{653     \}}
\DoxyCodeLine{654     \textcolor{keywordflow}{else}}
\DoxyCodeLine{655     \{}
\DoxyCodeLine{656       newPt.m\_partId0 = m\_partId0;}
\DoxyCodeLine{657       newPt.m\_partId1 = m\_partId1;}
\DoxyCodeLine{658       newPt.m\_index0 = m\_index0;}
\DoxyCodeLine{659       newPt.m\_index1 = m\_index1;}
\DoxyCodeLine{660     \}}
\DoxyCodeLine{661 }
\DoxyCodeLine{662     \textcolor{comment}{// experimental feature info, for per-\/triangle material etc.}}
\DoxyCodeLine{663     \textcolor{keyword}{const} btCollisionObjectWrapper* obj0Wrap = isSwapped ? m\_body1Wrap : m\_body0Wrap;}
\DoxyCodeLine{664     \textcolor{keyword}{const} btCollisionObjectWrapper* obj1Wrap = isSwapped ? m\_body0Wrap : m\_body1Wrap;}
\DoxyCodeLine{665     \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBridgedManifoldResult_a7f21053ec21062241fdbc52a82eef001}{m\_resultCallback}}.addSingleResult(}
\DoxyCodeLine{666         newPt, obj0Wrap, newPt.m\_partId0, newPt.m\_index0, obj1Wrap, newPt.m\_partId1, newPt.m\_index1);}
\DoxyCodeLine{667   \}}
\DoxyCodeLine{668 \};}
\DoxyCodeLine{669 }
\DoxyCodeLine{671 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}}
\DoxyCodeLine{672 \{}
\DoxyCodeLine{673   \mbox{\hyperlink{structtesseract__collision_1_1ContactTestData}{ContactTestData}}\& \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a19baa52f8a205a3ac29ed218a04d20b2}{collisions\_}};}
\DoxyCodeLine{674   \textcolor{keywordtype}{double} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a388e5b919cd68bb0d745826c64b99df0}{contact\_distance\_}};}
\DoxyCodeLine{675   \textcolor{keywordtype}{bool} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_ab3576ff24508330951e311c0d3842d25}{verbose\_}};}
\DoxyCodeLine{676 }
\DoxyCodeLine{677   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a8c17d5320b22e49b01e76d28ac060222}{BroadphaseContactResultCallback}}(\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData}{ContactTestData}}\& collisions, \textcolor{keywordtype}{double} contact\_distance, \textcolor{keywordtype}{bool} verbose = \textcolor{keyword}{false})}
\DoxyCodeLine{678     : \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a19baa52f8a205a3ac29ed218a04d20b2}{collisions\_}}(collisions), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a388e5b919cd68bb0d745826c64b99df0}{contact\_distance\_}}(contact\_distance), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_ab3576ff24508330951e311c0d3842d25}{verbose\_}}(verbose)}
\DoxyCodeLine{679   \{}
\DoxyCodeLine{680   \}}
\DoxyCodeLine{681 }
\DoxyCodeLine{682   \textcolor{keyword}{virtual} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a45c7d6a5062df4e8d885c8791170b9d9}{\string~BroadphaseContactResultCallback}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{683   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a52f7e57bd9a943aaf47e0b8bd1c1ba45}{BroadphaseContactResultCallback}}(\textcolor{keyword}{const} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}\&) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{684   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}\& \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_ac92ee9cfc3647f2610d0f3eb665bc208}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{685   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a944fe0becd986bc3509b87228d6bfa77}{BroadphaseContactResultCallback}}(\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}\&\&) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{686   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}\& \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a5999c8b8ff1d2232a6079434303d97b9}{operator=}}(\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}\&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{687 }
\DoxyCodeLine{688   \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_aff32d5d6b35dab79a87df0ad23654aab}{needsCollision}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}* cow0, \textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}* cow1)\textcolor{keyword}{ const}}
\DoxyCodeLine{689 \textcolor{keyword}{  }\{}
\DoxyCodeLine{690     \textcolor{keywordflow}{return} !\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a19baa52f8a205a3ac29ed218a04d20b2}{collisions\_}}.\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData_a9a87806afb0e55ad7279fca2d985bf79}{done}} \&\& \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a53bb16a8ea8e89c25099ec490dec0ab3}{needsCollisionCheck}}(*cow0, *cow1, \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a19baa52f8a205a3ac29ed218a04d20b2}{collisions\_}}.\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData_ac5d7267ce7a61655cc00b472c5900546}{fn}}, \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_ab3576ff24508330951e311c0d3842d25}{verbose\_}});}
\DoxyCodeLine{691   \}}
\DoxyCodeLine{692 }
\DoxyCodeLine{693   \textcolor{keyword}{virtual} btScalar \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_aca1aabab7ff15ccb4aaa229aad8f65e8}{addSingleResult}}(btManifoldPoint\& cp,}
\DoxyCodeLine{694                                    \textcolor{keyword}{const} btCollisionObjectWrapper* colObj0Wrap,}
\DoxyCodeLine{695                                    \textcolor{keywordtype}{int} partId0,}
\DoxyCodeLine{696                                    \textcolor{keywordtype}{int} index0,}
\DoxyCodeLine{697                                    \textcolor{keyword}{const} btCollisionObjectWrapper* colObj1Wrap,}
\DoxyCodeLine{698                                    \textcolor{keywordtype}{int} partId1,}
\DoxyCodeLine{699                                    \textcolor{keywordtype}{int} index1) = 0;}
\DoxyCodeLine{700 \};}
\DoxyCodeLine{701 }
\DoxyCodeLine{702 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteBroadphaseContactResultCallback}{DiscreteBroadphaseContactResultCallback}} : \textcolor{keyword}{public} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}}
\DoxyCodeLine{703 \{}
\DoxyCodeLine{704   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteBroadphaseContactResultCallback_a606fc82b2b2449e8f8134568ba61f44d}{DiscreteBroadphaseContactResultCallback}}(\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData}{ContactTestData}}\& collisions, \textcolor{keywordtype}{double} contact\_distance, \textcolor{keywordtype}{bool} verbose = \textcolor{keyword}{false})}
\DoxyCodeLine{705     : \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}(collisions, contact\_distance, verbose)}
\DoxyCodeLine{706   \{}
\DoxyCodeLine{707   \}}
\DoxyCodeLine{708 }
\DoxyCodeLine{709   btScalar \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteBroadphaseContactResultCallback_a79667327bc5afbf074fe7cc459869982}{addSingleResult}}(btManifoldPoint\& cp,}
\DoxyCodeLine{710                            \textcolor{keyword}{const} btCollisionObjectWrapper* colObj0Wrap,}
\DoxyCodeLine{711                            \textcolor{keywordtype}{int} \textcolor{comment}{/*partId0*/},}
\DoxyCodeLine{712                            \textcolor{keywordtype}{int} \textcolor{comment}{/*index0*/},}
\DoxyCodeLine{713                            \textcolor{keyword}{const} btCollisionObjectWrapper* colObj1Wrap,}
\DoxyCodeLine{714                            \textcolor{keywordtype}{int} \textcolor{comment}{/*partId1*/},}
\DoxyCodeLine{715                            \textcolor{keywordtype}{int} \textcolor{comment}{/*index1*/})\textcolor{keyword}{ override}}
\DoxyCodeLine{716 \textcolor{keyword}{  }\{}
\DoxyCodeLine{717     \textcolor{keywordflow}{if} (cp.m\_distance1 > \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a388e5b919cd68bb0d745826c64b99df0}{contact\_distance\_}}))}
\DoxyCodeLine{718       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{719 }
\DoxyCodeLine{720     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a944725e709ae64de91e9b04a2fda3c3f}{addDiscreteSingleResult}}(cp, colObj0Wrap, colObj1Wrap, \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a19baa52f8a205a3ac29ed218a04d20b2}{collisions\_}});}
\DoxyCodeLine{721   \}}
\DoxyCodeLine{722 \};}
\DoxyCodeLine{723 }
\DoxyCodeLine{724 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastBroadphaseContactResultCallback}{CastBroadphaseContactResultCallback}} : \textcolor{keyword}{public} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}}
\DoxyCodeLine{725 \{}
\DoxyCodeLine{726   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastBroadphaseContactResultCallback_ae8f561d08725075d65fdcde6c10e7393}{CastBroadphaseContactResultCallback}}(\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData}{ContactTestData}}\& collisions, \textcolor{keywordtype}{double} contact\_distance, \textcolor{keywordtype}{bool} verbose = \textcolor{keyword}{false})}
\DoxyCodeLine{727     : \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}(collisions, contact\_distance, verbose)}
\DoxyCodeLine{728   \{}
\DoxyCodeLine{729   \}}
\DoxyCodeLine{730 }
\DoxyCodeLine{731   btScalar \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastBroadphaseContactResultCallback_a48470c683dc414a9bb0abfc223a1e3aa}{addSingleResult}}(btManifoldPoint\& cp,}
\DoxyCodeLine{732                            \textcolor{keyword}{const} btCollisionObjectWrapper* colObj0Wrap,}
\DoxyCodeLine{733                            \textcolor{keywordtype}{int} \textcolor{comment}{/*partId0*/},}
\DoxyCodeLine{734                            \textcolor{keywordtype}{int} index0,}
\DoxyCodeLine{735                            \textcolor{keyword}{const} btCollisionObjectWrapper* colObj1Wrap,}
\DoxyCodeLine{736                            \textcolor{keywordtype}{int} \textcolor{comment}{/*partId1*/},}
\DoxyCodeLine{737                            \textcolor{keywordtype}{int} index1)\textcolor{keyword}{ override}}
\DoxyCodeLine{738 \textcolor{keyword}{  }\{}
\DoxyCodeLine{739     \textcolor{keywordflow}{if} (cp.m\_distance1 > \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a388e5b919cd68bb0d745826c64b99df0}{contact\_distance\_}}))}
\DoxyCodeLine{740       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{741 }
\DoxyCodeLine{742     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_afe5c2394544085ab600b5d8ff5d49508}{addCastSingleResult}}(cp, colObj0Wrap, index0, colObj1Wrap, index1, \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a19baa52f8a205a3ac29ed218a04d20b2}{collisions\_}});}
\DoxyCodeLine{743   \}}
\DoxyCodeLine{744 \};}
\DoxyCodeLine{745 }
\DoxyCodeLine{746 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBroadphaseBridgedManifoldResult}{TesseractBroadphaseBridgedManifoldResult}} : \textcolor{keyword}{public} btManifoldResult}
\DoxyCodeLine{747 \{}
\DoxyCodeLine{748   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}\& \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBroadphaseBridgedManifoldResult_a6e37067767f2acee9ba8c5c7dd67af9d}{result\_callback\_}};}
\DoxyCodeLine{749 }
\DoxyCodeLine{750   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBroadphaseBridgedManifoldResult_a50add50a2a9ccf8366335de89175d091}{TesseractBroadphaseBridgedManifoldResult}}(\textcolor{keyword}{const} btCollisionObjectWrapper* obj0Wrap,}
\DoxyCodeLine{751                                            \textcolor{keyword}{const} btCollisionObjectWrapper* obj1Wrap,}
\DoxyCodeLine{752                                            \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}\& result\_callback)}
\DoxyCodeLine{753     : btManifoldResult(obj0Wrap, obj1Wrap), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBroadphaseBridgedManifoldResult_a6e37067767f2acee9ba8c5c7dd67af9d}{result\_callback\_}}(result\_callback)}
\DoxyCodeLine{754   \{}
\DoxyCodeLine{755   \}}
\DoxyCodeLine{756 }
\DoxyCodeLine{757   \textcolor{keywordtype}{void} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBroadphaseBridgedManifoldResult_aa0e8849d28999249c16c67a916a10487}{addContactPoint}}(\textcolor{keyword}{const} btVector3\& normalOnBInWorld, \textcolor{keyword}{const} btVector3\& pointInWorld, btScalar depth)\textcolor{keyword}{ override}}
\DoxyCodeLine{758 \textcolor{keyword}{  }\{}
\DoxyCodeLine{759     \textcolor{keywordflow}{if} (\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBroadphaseBridgedManifoldResult_a6e37067767f2acee9ba8c5c7dd67af9d}{result\_callback\_}}.\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a19baa52f8a205a3ac29ed218a04d20b2}{collisions\_}}.\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData_a9a87806afb0e55ad7279fca2d985bf79}{done}} || depth > \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBroadphaseBridgedManifoldResult_a6e37067767f2acee9ba8c5c7dd67af9d}{result\_callback\_}}.\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a388e5b919cd68bb0d745826c64b99df0}{contact\_distance\_}}))}
\DoxyCodeLine{760       \textcolor{keywordflow}{return};}
\DoxyCodeLine{761 }
\DoxyCodeLine{762     \textcolor{keywordtype}{bool} isSwapped = m\_manifoldPtr-\/>getBody0() != m\_body0Wrap-\/>getCollisionObject();}
\DoxyCodeLine{763     btVector3 pointA = pointInWorld + normalOnBInWorld * depth;}
\DoxyCodeLine{764     btVector3 localA;}
\DoxyCodeLine{765     btVector3 localB;}
\DoxyCodeLine{766     \textcolor{keywordflow}{if} (isSwapped)}
\DoxyCodeLine{767     \{}
\DoxyCodeLine{768       localA = m\_body1Wrap-\/>getCollisionObject()-\/>getWorldTransform().invXform(pointA);}
\DoxyCodeLine{769       localB = m\_body0Wrap-\/>getCollisionObject()-\/>getWorldTransform().invXform(pointInWorld);}
\DoxyCodeLine{770     \}}
\DoxyCodeLine{771     \textcolor{keywordflow}{else}}
\DoxyCodeLine{772     \{}
\DoxyCodeLine{773       localA = m\_body0Wrap-\/>getCollisionObject()-\/>getWorldTransform().invXform(pointA);}
\DoxyCodeLine{774       localB = m\_body1Wrap-\/>getCollisionObject()-\/>getWorldTransform().invXform(pointInWorld);}
\DoxyCodeLine{775     \}}
\DoxyCodeLine{776 }
\DoxyCodeLine{777     btManifoldPoint newPt(localA, localB, normalOnBInWorld, depth);}
\DoxyCodeLine{778     newPt.m\_positionWorldOnA = pointA;}
\DoxyCodeLine{779     newPt.m\_positionWorldOnB = pointInWorld;}
\DoxyCodeLine{780 }
\DoxyCodeLine{781     \textcolor{comment}{// BP mod, store contact triangles.}}
\DoxyCodeLine{782     \textcolor{keywordflow}{if} (isSwapped)}
\DoxyCodeLine{783     \{}
\DoxyCodeLine{784       newPt.m\_partId0 = m\_partId1;}
\DoxyCodeLine{785       newPt.m\_partId1 = m\_partId0;}
\DoxyCodeLine{786       newPt.m\_index0 = m\_index1;}
\DoxyCodeLine{787       newPt.m\_index1 = m\_index0;}
\DoxyCodeLine{788     \}}
\DoxyCodeLine{789     \textcolor{keywordflow}{else}}
\DoxyCodeLine{790     \{}
\DoxyCodeLine{791       newPt.m\_partId0 = m\_partId0;}
\DoxyCodeLine{792       newPt.m\_partId1 = m\_partId1;}
\DoxyCodeLine{793       newPt.m\_index0 = m\_index0;}
\DoxyCodeLine{794       newPt.m\_index1 = m\_index1;}
\DoxyCodeLine{795     \}}
\DoxyCodeLine{796 }
\DoxyCodeLine{797     \textcolor{comment}{// experimental feature info, for per-\/triangle material etc.}}
\DoxyCodeLine{798     \textcolor{keyword}{const} btCollisionObjectWrapper* obj0Wrap = isSwapped ? m\_body1Wrap : m\_body0Wrap;}
\DoxyCodeLine{799     \textcolor{keyword}{const} btCollisionObjectWrapper* obj1Wrap = isSwapped ? m\_body0Wrap : m\_body1Wrap;}
\DoxyCodeLine{800     \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBroadphaseBridgedManifoldResult_a6e37067767f2acee9ba8c5c7dd67af9d}{result\_callback\_}}.\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_aca1aabab7ff15ccb4aaa229aad8f65e8}{addSingleResult}}(}
\DoxyCodeLine{801         newPt, obj0Wrap, newPt.m\_partId0, newPt.m\_index0, obj1Wrap, newPt.m\_partId1, newPt.m\_index1);}
\DoxyCodeLine{802   \}}
\DoxyCodeLine{803 \};}
\DoxyCodeLine{804 }
\DoxyCodeLine{811 \textcolor{keyword}{class }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback}{TesseractCollisionPairCallback}} : \textcolor{keyword}{public} btOverlapCallback}
\DoxyCodeLine{812 \{}
\DoxyCodeLine{813   \textcolor{keyword}{const} btDispatcherInfo\& \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a93fa8ae4cd3901c188221f96e4522a52}{dispatch\_info\_}};}
\DoxyCodeLine{814   btCollisionDispatcher* \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a1a1b3b9509cd75b5f50d95add730beb5}{dispatcher\_}};}
\DoxyCodeLine{815   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}\& \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a7fc9b170d41c98359851f69eb769e323}{results\_callback\_}};}
\DoxyCodeLine{816 }
\DoxyCodeLine{817 \textcolor{keyword}{public}:}
\DoxyCodeLine{818   \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_ad409dcd3ef581ab5f8a1528d117fe5be}{TesseractCollisionPairCallback}}(\textcolor{keyword}{const} btDispatcherInfo\& dispatchInfo,}
\DoxyCodeLine{819                                  btCollisionDispatcher* dispatcher,}
\DoxyCodeLine{820                                  \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback}{BroadphaseContactResultCallback}}\& results\_callback)}
\DoxyCodeLine{821     : \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a93fa8ae4cd3901c188221f96e4522a52}{dispatch\_info\_}}(dispatchInfo), \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a1a1b3b9509cd75b5f50d95add730beb5}{dispatcher\_}}(dispatcher), \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a7fc9b170d41c98359851f69eb769e323}{results\_callback\_}}(results\_callback)}
\DoxyCodeLine{822   \{}
\DoxyCodeLine{823   \}}
\DoxyCodeLine{824 }
\DoxyCodeLine{825   \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_affb40cbb305203f1bd3a9249107ad4b6}{\string~TesseractCollisionPairCallback}}() \textcolor{keyword}{override} = \textcolor{keywordflow}{default};}
\DoxyCodeLine{826   \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a9a56eee1204e37f417dadafa8521a3cc}{TesseractCollisionPairCallback}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback}{TesseractCollisionPairCallback}}\&) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{827   \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback}{TesseractCollisionPairCallback}}\& \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a30f3c4e6d315f1e6e979ee9dffc8c99d}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback}{TesseractCollisionPairCallback}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{828   \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a2a5705d98eeab1a6bf3a670716c30810}{TesseractCollisionPairCallback}}(\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback}{TesseractCollisionPairCallback}}\&\&) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{829   \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback}{TesseractCollisionPairCallback}}\& \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a3f27598cefceeb3f8b3275d09170a184}{operator=}}(\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback}{TesseractCollisionPairCallback}}\&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{830 }
\DoxyCodeLine{831   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a79792b3e80c5e3e156fd797d8049a930}{processOverlap}}(btBroadphasePair\& pair)\textcolor{keyword}{ override}}
\DoxyCodeLine{832 \textcolor{keyword}{  }\{}
\DoxyCodeLine{833     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a7fc9b170d41c98359851f69eb769e323}{results\_callback\_}}.\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a19baa52f8a205a3ac29ed218a04d20b2}{collisions\_}}.\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData_a9a87806afb0e55ad7279fca2d985bf79}{done}})}
\DoxyCodeLine{834       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{835 }
\DoxyCodeLine{836     \textcolor{keyword}{const} \textcolor{keyword}{auto}* cow0 = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(pair.m\_pProxy0-\/>m\_clientObject);}
\DoxyCodeLine{837     \textcolor{keyword}{const} \textcolor{keyword}{auto}* cow1 = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(pair.m\_pProxy1-\/>m\_clientObject);}
\DoxyCodeLine{838 }
\DoxyCodeLine{839     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a7fc9b170d41c98359851f69eb769e323}{results\_callback\_}}.\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_aff32d5d6b35dab79a87df0ad23654aab}{needsCollision}}(cow0, cow1))}
\DoxyCodeLine{840     \{}
\DoxyCodeLine{841       btCollisionObjectWrapper obj0Wrap(\textcolor{keyword}{nullptr}, cow0-\/>getCollisionShape(), cow0, cow0-\/>getWorldTransform(), -\/1, -\/1);}
\DoxyCodeLine{842       btCollisionObjectWrapper obj1Wrap(\textcolor{keyword}{nullptr}, cow1-\/>getCollisionShape(), cow1, cow1-\/>getWorldTransform(), -\/1, -\/1);}
\DoxyCodeLine{843 }
\DoxyCodeLine{844       \textcolor{comment}{// dispatcher will keep algorithms persistent in the collision pair}}
\DoxyCodeLine{845       \textcolor{keywordflow}{if} (pair.m\_algorithm == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{846       \{}
\DoxyCodeLine{847         pair.m\_algorithm = \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a1a1b3b9509cd75b5f50d95add730beb5}{dispatcher\_}}-\/>findAlgorithm(\&obj0Wrap, \&obj1Wrap, \textcolor{keyword}{nullptr}, BT\_CLOSEST\_POINT\_ALGORITHMS);}
\DoxyCodeLine{848       \}}
\DoxyCodeLine{849 }
\DoxyCodeLine{850       \textcolor{keywordflow}{if} (pair.m\_algorithm != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{851       \{}
\DoxyCodeLine{852         \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractBroadphaseBridgedManifoldResult}{TesseractBroadphaseBridgedManifoldResult}} contactPointResult(\&obj0Wrap, \&obj1Wrap, \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a7fc9b170d41c98359851f69eb769e323}{results\_callback\_}});}
\DoxyCodeLine{853         contactPointResult.m\_closestPointDistanceThreshold = \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a7fc9b170d41c98359851f69eb769e323}{results\_callback\_}}.\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1BroadphaseContactResultCallback_a388e5b919cd68bb0d745826c64b99df0}{contact\_distance\_}});}
\DoxyCodeLine{854 }
\DoxyCodeLine{855         \textcolor{comment}{// discrete collision detection query}}
\DoxyCodeLine{856         pair.m\_algorithm-\/>processCollision(\&obj0Wrap, \&obj1Wrap, \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractCollisionPairCallback_a93fa8ae4cd3901c188221f96e4522a52}{dispatch\_info\_}}, \&contactPointResult);}
\DoxyCodeLine{857       \}}
\DoxyCodeLine{858     \}}
\DoxyCodeLine{859     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{860   \}}
\DoxyCodeLine{861 \};}
\DoxyCodeLine{862 }
\DoxyCodeLine{864 \textcolor{keyword}{class }\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractOverlapFilterCallback}{TesseractOverlapFilterCallback}} : \textcolor{keyword}{public} btOverlapFilterCallback}
\DoxyCodeLine{865 \{}
\DoxyCodeLine{866 \textcolor{keyword}{public}:}
\DoxyCodeLine{867   \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractOverlapFilterCallback_ad2fefa0469dd7bbece42a48568cce330}{TesseractOverlapFilterCallback}}(\textcolor{keywordtype}{bool} verbose = \textcolor{keyword}{false}) : \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractOverlapFilterCallback_a0bce89586fad1289c086899879a2feb9}{verbose\_}}(verbose) \{\}}
\DoxyCodeLine{868 }
\DoxyCodeLine{869   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractOverlapFilterCallback_a9bdc0c02b66130480ac32eb562989ce1}{needBroadphaseCollision}}(btBroadphaseProxy* proxy0, btBroadphaseProxy* proxy1)\textcolor{keyword}{ const override}}
\DoxyCodeLine{870 \textcolor{keyword}{  }\{}
\DoxyCodeLine{871     \textcolor{comment}{// Note: We do not pass the allowed collision matrix because if it changes we do not know and this function only}}
\DoxyCodeLine{872     \textcolor{comment}{// gets called under certain cases and it could cause overlapping pairs to not be processed.}}
\DoxyCodeLine{873     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a53bb16a8ea8e89c25099ec490dec0ab3}{needsCollisionCheck}}(*(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(proxy0-\/>m\_clientObject)),}
\DoxyCodeLine{874                                *(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(proxy1-\/>m\_clientObject)),}
\DoxyCodeLine{875                                \textcolor{keyword}{nullptr},}
\DoxyCodeLine{876                                \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractOverlapFilterCallback_a0bce89586fad1289c086899879a2feb9}{verbose\_}});}
\DoxyCodeLine{877   \}}
\DoxyCodeLine{878 }
\DoxyCodeLine{879 \textcolor{keyword}{private}:}
\DoxyCodeLine{880   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1TesseractOverlapFilterCallback_a0bce89586fad1289c086899879a2feb9}{verbose\_}}\{ \textcolor{keyword}{false} \};}
\DoxyCodeLine{881 \};}
\DoxyCodeLine{882 }
\DoxyCodeLine{891 std::shared\_ptr<btCollisionShape> \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_adb87ec9db8f5ae1e636887a432379af4}{createShapePrimitive}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespacetesseract__collision_a0ba6c3df4805b8c865cb45f6571486c0}{CollisionShapeConstPtr}}\& geom,}
\DoxyCodeLine{892                                                        CollisionObjectWrapper* cow,}
\DoxyCodeLine{893                                                        \textcolor{keywordtype}{int} shape\_index);}
\DoxyCodeLine{894 }
\DoxyCodeLine{900 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_aee49da084e6dd86cc7e384434c6a06f8}{updateCollisionObjectFilters}}(\textcolor{keyword}{const} std::vector<std::string>\& active, \textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}}\& cow)}
\DoxyCodeLine{901 \{}
\DoxyCodeLine{902   cow-\/>m\_collisionFilterGroup = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__fcl_af7dded074ea546324fb45b909fea527fa24a83bab934b56f9791d14d8a34f1b21}{btBroadphaseProxy::KinematicFilter}};}
\DoxyCodeLine{903 }
\DoxyCodeLine{904   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacetesseract__collision_ab6cce1ce95e96f38382f53976bbe9dea}{isLinkActive}}(active, cow-\/>getName()))}
\DoxyCodeLine{905   \{}
\DoxyCodeLine{906     cow-\/>m\_collisionFilterGroup = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__fcl_af7dded074ea546324fb45b909fea527fa343cfc9ddeee1f64bc5a1fe9f2bae260}{btBroadphaseProxy::StaticFilter}};}
\DoxyCodeLine{907   \}}
\DoxyCodeLine{908 }
\DoxyCodeLine{909   \textcolor{keywordflow}{if} (cow-\/>m\_collisionFilterGroup == \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__fcl_af7dded074ea546324fb45b909fea527fa343cfc9ddeee1f64bc5a1fe9f2bae260}{btBroadphaseProxy::StaticFilter}})}
\DoxyCodeLine{910   \{}
\DoxyCodeLine{911     cow-\/>m\_collisionFilterMask = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__fcl_af7dded074ea546324fb45b909fea527fa24a83bab934b56f9791d14d8a34f1b21}{btBroadphaseProxy::KinematicFilter}};}
\DoxyCodeLine{912   \}}
\DoxyCodeLine{913   \textcolor{keywordflow}{else}}
\DoxyCodeLine{914   \{}
\DoxyCodeLine{915     cow-\/>m\_collisionFilterMask = \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__fcl_af7dded074ea546324fb45b909fea527fa343cfc9ddeee1f64bc5a1fe9f2bae260}{btBroadphaseProxy::StaticFilter}} | \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__fcl_af7dded074ea546324fb45b909fea527fa24a83bab934b56f9791d14d8a34f1b21}{btBroadphaseProxy::KinematicFilter}};}
\DoxyCodeLine{916   \}}
\DoxyCodeLine{917 \}}
\DoxyCodeLine{918 }
\DoxyCodeLine{919 \textcolor{keyword}{inline} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a9c284b5169360d33f83fc08b41cca03c}{createCollisionObject}}(\textcolor{keyword}{const} std::string\& name,}
\DoxyCodeLine{920                                       \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& type\_id,}
\DoxyCodeLine{921                                       \textcolor{keyword}{const} \mbox{\hyperlink{namespacetesseract__collision_a2472107aae8174a30873bb0a955c3cb4}{CollisionShapesConst}}\& shapes,}
\DoxyCodeLine{922                                       \textcolor{keyword}{const} \mbox{\hyperlink{namespacetesseract__common_a94d9921fc7ed323609ac57d06f939cb6}{tesseract\_common::VectorIsometry3d}}\& shape\_poses,}
\DoxyCodeLine{923                                       \textcolor{keywordtype}{bool} enabled = \textcolor{keyword}{true})}
\DoxyCodeLine{924 \{}
\DoxyCodeLine{925   \textcolor{comment}{// dont add object that does not have geometry}}
\DoxyCodeLine{926   \textcolor{keywordflow}{if} (shapes.empty() || shape\_poses.empty() || (shapes.size() != shape\_poses.size()))}
\DoxyCodeLine{927   \{}
\DoxyCodeLine{928     CONSOLE\_BRIDGE\_logDebug(\textcolor{stringliteral}{"{}ignoring link \%s"{}}, name.c\_str());}
\DoxyCodeLine{929     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{930   \}}
\DoxyCodeLine{931 }
\DoxyCodeLine{932   \textcolor{keyword}{auto} new\_cow = std::make\_shared<COW>(name, type\_id, shapes, shape\_poses);}
\DoxyCodeLine{933 }
\DoxyCodeLine{934   new\_cow-\/>m\_enabled = enabled;}
\DoxyCodeLine{935   new\_cow-\/>setContactProcessingThreshold(\mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a679faf14058610e42a5f1b9ad4565704}{BULLET\_DEFAULT\_CONTACT\_DISTANCE}});}
\DoxyCodeLine{936 }
\DoxyCodeLine{937   CONSOLE\_BRIDGE\_logDebug(\textcolor{stringliteral}{"{}Created collision object for link \%s"{}}, new\_cow-\/>getName().c\_str());}
\DoxyCodeLine{938   \textcolor{keywordflow}{return} new\_cow;}
\DoxyCodeLine{939 \}}
\DoxyCodeLine{940 }
\DoxyCodeLine{941 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector}{DiscreteCollisionCollector}} : \textcolor{keyword}{public} btCollisionWorld::ContactResultCallback}
\DoxyCodeLine{942 \{}
\DoxyCodeLine{943   \mbox{\hyperlink{structtesseract__collision_1_1ContactTestData}{ContactTestData}}\& \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a15373b8c9bbc3921c0f1a9b77fe5ce75}{collisions\_}};}
\DoxyCodeLine{944   \textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a3a0e13a76bb8dd14912903b1fe90cc08}{cow\_}};}
\DoxyCodeLine{945   \textcolor{keywordtype}{double} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a9d0fa596d10bc6f345b977eb7b4227d4}{contact\_distance\_}};}
\DoxyCodeLine{946   \textcolor{keywordtype}{bool} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_af0088e6b1786b8d3bf8b68245a128d00}{verbose\_}};}
\DoxyCodeLine{947 }
\DoxyCodeLine{948   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a87e37ed6abffb5995484e4cee855615b}{DiscreteCollisionCollector}}(\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData}{ContactTestData}}\& collisions, \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}} cow, btScalar contact\_distance, \textcolor{keywordtype}{bool} verbose = \textcolor{keyword}{false})}
\DoxyCodeLine{949     : \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a15373b8c9bbc3921c0f1a9b77fe5ce75}{collisions\_}}(collisions), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a3a0e13a76bb8dd14912903b1fe90cc08}{cow\_}}(std::move(cow)), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a9d0fa596d10bc6f345b977eb7b4227d4}{contact\_distance\_}}(contact\_distance), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_af0088e6b1786b8d3bf8b68245a128d00}{verbose\_}}(verbose)}
\DoxyCodeLine{950   \{}
\DoxyCodeLine{951     m\_closestDistanceThreshold = contact\_distance;}
\DoxyCodeLine{952     m\_collisionFilterGroup = \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a3a0e13a76bb8dd14912903b1fe90cc08}{cow\_}}-\/>m\_collisionFilterGroup;}
\DoxyCodeLine{953     m\_collisionFilterMask = \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a3a0e13a76bb8dd14912903b1fe90cc08}{cow\_}}-\/>m\_collisionFilterMask;}
\DoxyCodeLine{954   \}}
\DoxyCodeLine{955 }
\DoxyCodeLine{956   btScalar \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a2b48e1a5743cd3e9c0b1d161c434d6a3}{addSingleResult}}(btManifoldPoint\& cp,}
\DoxyCodeLine{957                            \textcolor{keyword}{const} btCollisionObjectWrapper* colObj0Wrap,}
\DoxyCodeLine{958                            \textcolor{keywordtype}{int} \textcolor{comment}{/*partId0*/},}
\DoxyCodeLine{959                            \textcolor{keywordtype}{int} \textcolor{comment}{/*index0*/},}
\DoxyCodeLine{960                            \textcolor{keyword}{const} btCollisionObjectWrapper* colObj1Wrap,}
\DoxyCodeLine{961                            \textcolor{keywordtype}{int} \textcolor{comment}{/*partId1*/},}
\DoxyCodeLine{962                            \textcolor{keywordtype}{int} \textcolor{comment}{/*index1*/})\textcolor{keyword}{ override}}
\DoxyCodeLine{963 \textcolor{keyword}{  }\{}
\DoxyCodeLine{964     \textcolor{keywordflow}{if} (cp.m\_distance1 > \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a9d0fa596d10bc6f345b977eb7b4227d4}{contact\_distance\_}}))}
\DoxyCodeLine{965       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{966 }
\DoxyCodeLine{967     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a944725e709ae64de91e9b04a2fda3c3f}{addDiscreteSingleResult}}(cp, colObj0Wrap, colObj1Wrap, \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a15373b8c9bbc3921c0f1a9b77fe5ce75}{collisions\_}});}
\DoxyCodeLine{968   \}}
\DoxyCodeLine{969 }
\DoxyCodeLine{970   \textcolor{keywordtype}{bool} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a1ceab4e4aa526f4a2b6cd09a1d50f825}{needsCollision}}(btBroadphaseProxy* proxy0)\textcolor{keyword}{ const override}}
\DoxyCodeLine{971 \textcolor{keyword}{  }\{}
\DoxyCodeLine{972     \textcolor{keywordflow}{return} !\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a15373b8c9bbc3921c0f1a9b77fe5ce75}{collisions\_}}.\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData_a9a87806afb0e55ad7279fca2d985bf79}{done}} \&\&}
\DoxyCodeLine{973            \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a53bb16a8ea8e89c25099ec490dec0ab3}{needsCollisionCheck}}(}
\DoxyCodeLine{974                *\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a3a0e13a76bb8dd14912903b1fe90cc08}{cow\_}}, *(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(proxy0-\/>m\_clientObject)), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_a15373b8c9bbc3921c0f1a9b77fe5ce75}{collisions\_}}.\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData_ac5d7267ce7a61655cc00b472c5900546}{fn}}, \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1DiscreteCollisionCollector_af0088e6b1786b8d3bf8b68245a128d00}{verbose\_}});}
\DoxyCodeLine{975   \}}
\DoxyCodeLine{976 \};}
\DoxyCodeLine{977 }
\DoxyCodeLine{978 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector}{CastCollisionCollector}} : \textcolor{keyword}{public} btCollisionWorld::ContactResultCallback}
\DoxyCodeLine{979 \{}
\DoxyCodeLine{980   \mbox{\hyperlink{structtesseract__collision_1_1ContactTestData}{ContactTestData}}\& \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_a02f92034c0af103cac93bbde3c115145}{collisions\_}};}
\DoxyCodeLine{981   \textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_aceb872eb09f816e70bab1fae829e6a41}{cow\_}};}
\DoxyCodeLine{982   \textcolor{keywordtype}{double} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_a81d16d591c128765eb587bae6db72495}{contact\_distance\_}};}
\DoxyCodeLine{983   \textcolor{keywordtype}{bool} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_a12bbec0ed6358d6082629b36fb4fcef0}{verbose\_}};}
\DoxyCodeLine{984 }
\DoxyCodeLine{985   \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_aa22f2710c55b18cf6a0a622b0921710e}{CastCollisionCollector}}(\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData}{ContactTestData}}\& collisions, \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}} cow, \textcolor{keywordtype}{double} contact\_distance, \textcolor{keywordtype}{bool} verbose = \textcolor{keyword}{false})}
\DoxyCodeLine{986     : \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_a02f92034c0af103cac93bbde3c115145}{collisions\_}}(collisions), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_aceb872eb09f816e70bab1fae829e6a41}{cow\_}}(std::move(cow)), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_a81d16d591c128765eb587bae6db72495}{contact\_distance\_}}(contact\_distance), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_a12bbec0ed6358d6082629b36fb4fcef0}{verbose\_}}(verbose)}
\DoxyCodeLine{987   \{}
\DoxyCodeLine{988     m\_closestDistanceThreshold = \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(contact\_distance);}
\DoxyCodeLine{989     m\_collisionFilterGroup = \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_aceb872eb09f816e70bab1fae829e6a41}{cow\_}}-\/>m\_collisionFilterGroup;}
\DoxyCodeLine{990     m\_collisionFilterMask = \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_aceb872eb09f816e70bab1fae829e6a41}{cow\_}}-\/>m\_collisionFilterMask;}
\DoxyCodeLine{991   \}}
\DoxyCodeLine{992 }
\DoxyCodeLine{993   btScalar \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_a8d048af6f2c92bfd1004ca0e5719944a}{addSingleResult}}(btManifoldPoint\& cp,}
\DoxyCodeLine{994                            \textcolor{keyword}{const} btCollisionObjectWrapper* colObj0Wrap,}
\DoxyCodeLine{995                            \textcolor{keywordtype}{int} \textcolor{comment}{/*partId0*/},}
\DoxyCodeLine{996                            \textcolor{keywordtype}{int} index0,}
\DoxyCodeLine{997                            \textcolor{keyword}{const} btCollisionObjectWrapper* colObj1Wrap,}
\DoxyCodeLine{998                            \textcolor{keywordtype}{int} \textcolor{comment}{/*partId1*/},}
\DoxyCodeLine{999                            \textcolor{keywordtype}{int} index1)\textcolor{keyword}{ override}}
\DoxyCodeLine{1000 \textcolor{keyword}{  }\{}
\DoxyCodeLine{1001     \textcolor{keywordflow}{if} (cp.m\_distance1 > \textcolor{keyword}{static\_cast<}btScalar\textcolor{keyword}{>}(\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_a81d16d591c128765eb587bae6db72495}{contact\_distance\_}}))}
\DoxyCodeLine{1002       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{1003 }
\DoxyCodeLine{1004     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_afe5c2394544085ab600b5d8ff5d49508}{addCastSingleResult}}(cp, colObj0Wrap, index0, colObj1Wrap, index1, \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_a02f92034c0af103cac93bbde3c115145}{collisions\_}});}
\DoxyCodeLine{1005   \}}
\DoxyCodeLine{1006 }
\DoxyCodeLine{1007   \textcolor{keywordtype}{bool} \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_aebdb38ab435d218722c5f89792d5bc8f}{needsCollision}}(btBroadphaseProxy* proxy0)\textcolor{keyword}{ const override}}
\DoxyCodeLine{1008 \textcolor{keyword}{  }\{}
\DoxyCodeLine{1009     \textcolor{keywordflow}{return} !\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_a02f92034c0af103cac93bbde3c115145}{collisions\_}}.\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData_a9a87806afb0e55ad7279fca2d985bf79}{done}} \&\&}
\DoxyCodeLine{1010            \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a53bb16a8ea8e89c25099ec490dec0ab3}{needsCollisionCheck}}(}
\DoxyCodeLine{1011                *\mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_aceb872eb09f816e70bab1fae829e6a41}{cow\_}}, *(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper}{CollisionObjectWrapper}}*\textcolor{keyword}{>}(proxy0-\/>m\_clientObject)), \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_a02f92034c0af103cac93bbde3c115145}{collisions\_}}.\mbox{\hyperlink{structtesseract__collision_1_1ContactTestData_ac5d7267ce7a61655cc00b472c5900546}{fn}}, \mbox{\hyperlink{structtesseract__collision_1_1tesseract__collision__bullet_1_1CastCollisionCollector_a12bbec0ed6358d6082629b36fb4fcef0}{verbose\_}});}
\DoxyCodeLine{1012   \}}
\DoxyCodeLine{1013 \};}
\DoxyCodeLine{1014 }
\DoxyCodeLine{1015 \textcolor{keyword}{inline} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a5133b6061af8da1565519e1caab79ac7}{makeCastCollisionObject}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}}\& cow)}
\DoxyCodeLine{1016 \{}
\DoxyCodeLine{1017   \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}} new\_cow = cow-\/>clone();}
\DoxyCodeLine{1018 }
\DoxyCodeLine{1019   btTransform tf;}
\DoxyCodeLine{1020   tf.setIdentity();}
\DoxyCodeLine{1021 }
\DoxyCodeLine{1022   \textcolor{keywordflow}{if} (btBroadphaseProxy::isConvex(new\_cow-\/>getCollisionShape()-\/>getShapeType()))}
\DoxyCodeLine{1023   \{}
\DoxyCodeLine{1024     assert(\textcolor{keyword}{dynamic\_cast<}btConvexShape*\textcolor{keyword}{>}(new\_cow-\/>getCollisionShape()) != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{1025     \textcolor{keyword}{auto}* convex = \textcolor{keyword}{static\_cast<}btConvexShape*\textcolor{keyword}{>}(new\_cow-\/>getCollisionShape());  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1026     assert(convex-\/>getShapeType() != CUSTOM\_CONVEX\_SHAPE\_TYPE);  \textcolor{comment}{// This checks if the collision object is already a}}
\DoxyCodeLine{1027                                                                  \textcolor{comment}{// cast collision object}}
\DoxyCodeLine{1028 }
\DoxyCodeLine{1029     \textcolor{keyword}{auto} shape = std::make\_shared<CastHullShape>(convex, tf);}
\DoxyCodeLine{1030     assert(shape != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{1031 }
\DoxyCodeLine{1032     new\_cow-\/>manage(shape);}
\DoxyCodeLine{1033     new\_cow-\/>setCollisionShape(shape.get());}
\DoxyCodeLine{1034   \}}
\DoxyCodeLine{1035   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (btBroadphaseProxy::isCompound(new\_cow-\/>getCollisionShape()-\/>getShapeType()))}
\DoxyCodeLine{1036   \{}
\DoxyCodeLine{1037     assert(\textcolor{keyword}{dynamic\_cast<}btCompoundShape*\textcolor{keyword}{>}(new\_cow-\/>getCollisionShape()) != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{1038     \textcolor{keyword}{auto}* compound = \textcolor{keyword}{static\_cast<}btCompoundShape*\textcolor{keyword}{>}(new\_cow-\/>getCollisionShape());  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1039     \textcolor{keyword}{auto} new\_compound =}
\DoxyCodeLine{1040         std::make\_shared<btCompoundShape>(\mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_abf8e31c75d660acbd10fa17f38ed4b9c}{BULLET\_COMPOUND\_USE\_DYNAMIC\_AABB}}, compound-\/>getNumChildShapes());}
\DoxyCodeLine{1041 }
\DoxyCodeLine{1042     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < compound-\/>getNumChildShapes(); ++i)}
\DoxyCodeLine{1043     \{}
\DoxyCodeLine{1044       \textcolor{keywordflow}{if} (btBroadphaseProxy::isConvex(compound-\/>getChildShape(i)-\/>getShapeType()))}
\DoxyCodeLine{1045       \{}
\DoxyCodeLine{1046         \textcolor{keyword}{auto}* convex = \textcolor{keyword}{static\_cast<}btConvexShape*\textcolor{keyword}{>}(compound-\/>getChildShape(i));  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1047         assert(convex-\/>getShapeType() != CUSTOM\_CONVEX\_SHAPE\_TYPE);  \textcolor{comment}{// This checks if already a cast collision object}}
\DoxyCodeLine{1048 }
\DoxyCodeLine{1049         btTransform geomTrans = compound-\/>getChildTransform(i);}
\DoxyCodeLine{1050 }
\DoxyCodeLine{1051         \textcolor{keyword}{auto} subshape = std::make\_shared<CastHullShape>(convex, tf);}
\DoxyCodeLine{1052         assert(subshape != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{1053 }
\DoxyCodeLine{1054         new\_cow-\/>manage(subshape);}
\DoxyCodeLine{1055         subshape-\/>setMargin(\mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a28ba097170846ac0d72e460405f51898}{BULLET\_MARGIN}});}
\DoxyCodeLine{1056         new\_compound-\/>addChildShape(geomTrans, subshape.get());}
\DoxyCodeLine{1057       \}}
\DoxyCodeLine{1058       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (btBroadphaseProxy::isCompound(compound-\/>getChildShape(i)-\/>getShapeType()))}
\DoxyCodeLine{1059       \{}
\DoxyCodeLine{1060         \textcolor{keyword}{auto}* second\_compound = \textcolor{keyword}{static\_cast<}btCompoundShape*\textcolor{keyword}{>}(compound-\/>getChildShape(i));  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1061         \textcolor{keyword}{auto} new\_second\_compound =}
\DoxyCodeLine{1062             std::make\_shared<btCompoundShape>(\mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_abf8e31c75d660acbd10fa17f38ed4b9c}{BULLET\_COMPOUND\_USE\_DYNAMIC\_AABB}}, second\_compound-\/>getNumChildShapes());}
\DoxyCodeLine{1063         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < second\_compound-\/>getNumChildShapes(); ++j)}
\DoxyCodeLine{1064         \{}
\DoxyCodeLine{1065           assert(!btBroadphaseProxy::isCompound(second\_compound-\/>getChildShape(j)-\/>getShapeType()));}
\DoxyCodeLine{1066           assert(\textcolor{keyword}{dynamic\_cast<}btConvexShape*\textcolor{keyword}{>}(second\_compound-\/>getChildShape(j)) != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{1067 }
\DoxyCodeLine{1068           \textcolor{keyword}{auto}* convex = \textcolor{keyword}{static\_cast<}btConvexShape*\textcolor{keyword}{>}(second\_compound-\/>getChildShape(j));  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1069           assert(convex-\/>getShapeType() != CUSTOM\_CONVEX\_SHAPE\_TYPE);  \textcolor{comment}{// This checks if already a cast collision object}}
\DoxyCodeLine{1070 }
\DoxyCodeLine{1071           btTransform geomTrans = second\_compound-\/>getChildTransform(j);}
\DoxyCodeLine{1072 }
\DoxyCodeLine{1073           \textcolor{keyword}{auto} subshape = std::make\_shared<CastHullShape>(convex, tf);}
\DoxyCodeLine{1074           assert(subshape != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{1075 }
\DoxyCodeLine{1076           new\_cow-\/>manage(subshape);}
\DoxyCodeLine{1077           subshape-\/>setMargin(\mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a28ba097170846ac0d72e460405f51898}{BULLET\_MARGIN}});}
\DoxyCodeLine{1078           new\_second\_compound-\/>addChildShape(geomTrans, subshape.get());}
\DoxyCodeLine{1079         \}}
\DoxyCodeLine{1080 }
\DoxyCodeLine{1081         btTransform geomTrans = compound-\/>getChildTransform(i);}
\DoxyCodeLine{1082 }
\DoxyCodeLine{1083         new\_cow-\/>manage(new\_second\_compound);}
\DoxyCodeLine{1084         new\_second\_compound-\/>setMargin(\mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a28ba097170846ac0d72e460405f51898}{BULLET\_MARGIN}});  \textcolor{comment}{// margin: compound. seems to}}
\DoxyCodeLine{1085                                                         \textcolor{comment}{// have no effect when positive}}
\DoxyCodeLine{1086                                                         \textcolor{comment}{// but has an effect when}}
\DoxyCodeLine{1087                                                         \textcolor{comment}{// negative}}
\DoxyCodeLine{1088 }
\DoxyCodeLine{1089         new\_compound-\/>addChildShape(geomTrans, new\_second\_compound.get());}
\DoxyCodeLine{1090       \}}
\DoxyCodeLine{1091       \textcolor{keywordflow}{else}}
\DoxyCodeLine{1092       \{}
\DoxyCodeLine{1093         \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}I can only collision check convex shapes and compound shapes made of convex shapes"{}});}
\DoxyCodeLine{1094       \}}
\DoxyCodeLine{1095     \}}
\DoxyCodeLine{1096 }
\DoxyCodeLine{1097     new\_compound-\/>setMargin(\mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a28ba097170846ac0d72e460405f51898}{BULLET\_MARGIN}});  \textcolor{comment}{// margin: compound. seems to}}
\DoxyCodeLine{1098                                              \textcolor{comment}{// have no effect when positive}}
\DoxyCodeLine{1099                                              \textcolor{comment}{// but has an effect when}}
\DoxyCodeLine{1100                                              \textcolor{comment}{// negative}}
\DoxyCodeLine{1101     new\_cow-\/>manage(new\_compound);}
\DoxyCodeLine{1102     new\_cow-\/>setCollisionShape(new\_compound.get());}
\DoxyCodeLine{1103     new\_cow-\/>setWorldTransform(cow-\/>getWorldTransform());}
\DoxyCodeLine{1104   \}}
\DoxyCodeLine{1105   \textcolor{keywordflow}{else}}
\DoxyCodeLine{1106   \{}
\DoxyCodeLine{1107     \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}I can only collision check convex shapes and compound shapes made of convex shapes"{}});}
\DoxyCodeLine{1108   \}}
\DoxyCodeLine{1109 }
\DoxyCodeLine{1110   \textcolor{keywordflow}{return} new\_cow;}
\DoxyCodeLine{1111 \}}
\DoxyCodeLine{1112 }
\DoxyCodeLine{1119 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_ac32d8ab2b4e2177ce1a8d964cea67803}{updateBroadphaseAABB}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}}\& cow,}
\DoxyCodeLine{1120                                  \textcolor{keyword}{const} std::unique\_ptr<btBroadphaseInterface>\& broadphase,}
\DoxyCodeLine{1121                                  \textcolor{keyword}{const} std::unique\_ptr<btCollisionDispatcher>\& dispatcher)}
\DoxyCodeLine{1122 \{}
\DoxyCodeLine{1123   \textcolor{comment}{// Calculate the aabb}}
\DoxyCodeLine{1124   btVector3 aabb\_min, aabb\_max;}
\DoxyCodeLine{1125   cow-\/>getAABB(aabb\_min, aabb\_max);}
\DoxyCodeLine{1126 }
\DoxyCodeLine{1127   \textcolor{comment}{// Update the broadphase aabb}}
\DoxyCodeLine{1128   assert(cow-\/>getBroadphaseHandle() != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{1129   broadphase-\/>setAabb(cow-\/>getBroadphaseHandle(), aabb\_min, aabb\_max, dispatcher.get());}
\DoxyCodeLine{1130 \}}
\DoxyCodeLine{1131 }
\DoxyCodeLine{1138 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_acf22e0c89fd2ec0a19a2c54f3c0ec01f}{removeCollisionObjectFromBroadphase}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}}\& cow,}
\DoxyCodeLine{1139                                                 \textcolor{keyword}{const} std::unique\_ptr<btBroadphaseInterface>\& broadphase,}
\DoxyCodeLine{1140                                                 \textcolor{keyword}{const} std::unique\_ptr<btCollisionDispatcher>\& dispatcher)}
\DoxyCodeLine{1141 \{}
\DoxyCodeLine{1142   btBroadphaseProxy* bp = cow-\/>getBroadphaseHandle();}
\DoxyCodeLine{1143   \textcolor{keywordflow}{if} (bp != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{1144   \{}
\DoxyCodeLine{1145     \textcolor{comment}{// only clear the cached algorithms}}
\DoxyCodeLine{1146     broadphase-\/>getOverlappingPairCache()-\/>cleanProxyFromPairs(bp, dispatcher.get());}
\DoxyCodeLine{1147     broadphase-\/>destroyProxy(bp, dispatcher.get());}
\DoxyCodeLine{1148     cow-\/>setBroadphaseHandle(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{1149   \}}
\DoxyCodeLine{1150 \}}
\DoxyCodeLine{1151 }
\DoxyCodeLine{1158 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_a6bfba14c0d54bc649688202fe589397e}{addCollisionObjectToBroadphase}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}}\& cow,}
\DoxyCodeLine{1159                                            \textcolor{keyword}{const} std::unique\_ptr<btBroadphaseInterface>\& broadphase,}
\DoxyCodeLine{1160                                            \textcolor{keyword}{const} std::unique\_ptr<btCollisionDispatcher>\& dispatcher)}
\DoxyCodeLine{1161 \{}
\DoxyCodeLine{1162   btVector3 aabb\_min, aabb\_max;}
\DoxyCodeLine{1163   cow-\/>getAABB(aabb\_min, aabb\_max);}
\DoxyCodeLine{1164 }
\DoxyCodeLine{1165   \textcolor{comment}{// Add the active collision object to the broadphase}}
\DoxyCodeLine{1166   \textcolor{keywordtype}{int} type = cow-\/>getCollisionShape()-\/>getShapeType();}
\DoxyCodeLine{1167   cow-\/>setBroadphaseHandle(broadphase-\/>createProxy(}
\DoxyCodeLine{1168       aabb\_min, aabb\_max, type, cow.get(), cow-\/>m\_collisionFilterGroup, cow-\/>m\_collisionFilterMask, dispatcher.get()));}
\DoxyCodeLine{1169 \}}
\DoxyCodeLine{1170 }
\DoxyCodeLine{1178 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_aee49da084e6dd86cc7e384434c6a06f8}{updateCollisionObjectFilters}}(\textcolor{keyword}{const} std::vector<std::string>\& active,}
\DoxyCodeLine{1179                                          \textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}}\& cow,}
\DoxyCodeLine{1180                                          \textcolor{keyword}{const} std::unique\_ptr<btBroadphaseInterface>\& broadphase,}
\DoxyCodeLine{1181                                          \textcolor{keyword}{const} std::unique\_ptr<btCollisionDispatcher>\& dispatcher)}
\DoxyCodeLine{1182 \{}
\DoxyCodeLine{1183   \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_aee49da084e6dd86cc7e384434c6a06f8}{updateCollisionObjectFilters}}(active, cow);}
\DoxyCodeLine{1184 }
\DoxyCodeLine{1185   \textcolor{comment}{// Need to clean the proxy from broadphase cache so BroadPhaseFilter gets called again.}}
\DoxyCodeLine{1186   \textcolor{comment}{// The BroadPhaseFilter only gets called once, so if you change when two objects can be in collision, like filters}}
\DoxyCodeLine{1187   \textcolor{comment}{// this must be called or contacts between shapes will be missed.}}
\DoxyCodeLine{1188   broadphase-\/>getOverlappingPairCache()-\/>cleanProxyFromPairs(cow-\/>getBroadphaseHandle(), dispatcher.get());}
\DoxyCodeLine{1189 \}}
\DoxyCodeLine{1190 }
\DoxyCodeLine{1200 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacetesseract__collision_1_1tesseract__collision__bullet_ab00adc9a4c830a572b3ee17e153e88ef}{refreshBroadphaseProxy}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__collision_1_1tesseract__collision__bullet_1_1CollisionObjectWrapper_a3d926f2c776673c5e9719e010936600a}{COW::Ptr}}\& cow,}
\DoxyCodeLine{1201                                    \textcolor{keyword}{const} std::unique\_ptr<btBroadphaseInterface>\& broadphase,}
\DoxyCodeLine{1202                                    \textcolor{keyword}{const} std::unique\_ptr<btCollisionDispatcher>\& dispatcher)}
\DoxyCodeLine{1203 \{}
\DoxyCodeLine{1204   \textcolor{keywordflow}{if} (cow-\/>getBroadphaseHandle() != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{1205   \{}
\DoxyCodeLine{1206     broadphase-\/>destroyProxy(cow-\/>getBroadphaseHandle(), dispatcher.get());}
\DoxyCodeLine{1207 }
\DoxyCodeLine{1208     btVector3 aabb\_min, aabb\_max;}
\DoxyCodeLine{1209     cow-\/>getAABB(aabb\_min, aabb\_max);}
\DoxyCodeLine{1210 }
\DoxyCodeLine{1211     \textcolor{comment}{// Add the active collision object to the broadphase}}
\DoxyCodeLine{1212     \textcolor{keywordtype}{int} type = cow-\/>getCollisionShape()-\/>getShapeType();}
\DoxyCodeLine{1213     cow-\/>setBroadphaseHandle(broadphase-\/>createProxy(aabb\_min,}
\DoxyCodeLine{1214                                                      aabb\_max,}
\DoxyCodeLine{1215                                                      type,}
\DoxyCodeLine{1216                                                      cow.get(),}
\DoxyCodeLine{1217                                                      cow-\/>m\_collisionFilterGroup,}
\DoxyCodeLine{1218                                                      cow-\/>m\_collisionFilterMask,}
\DoxyCodeLine{1219                                                      dispatcher.get()));}
\DoxyCodeLine{1220   \}}
\DoxyCodeLine{1221 \}}
\DoxyCodeLine{1222 }
\DoxyCodeLine{1223 \}  \textcolor{comment}{// namespace tesseract\_collision\_bullet}}
\DoxyCodeLine{1224 \}  \textcolor{comment}{// namespace tesseract\_collision}}
\DoxyCodeLine{1225 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// TESSERACT\_COLLISION\_BULLET\_UTILS\_H}}

\end{DoxyCode}
