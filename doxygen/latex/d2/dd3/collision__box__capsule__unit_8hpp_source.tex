\hypertarget{collision__box__capsule__unit_8hpp_source}{}\doxysection{collision\+\_\+box\+\_\+capsule\+\_\+unit.\+hpp}
\label{collision__box__capsule__unit_8hpp_source}\index{tesseract\_collision/core/include/tesseract\_collision/test\_suite/collision\_box\_capsule\_unit.hpp@{tesseract\_collision/core/include/tesseract\_collision/test\_suite/collision\_box\_capsule\_unit.hpp}}
\mbox{\hyperlink{collision__box__capsule__unit_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef TESSERACT\_COLLISION\_COLLISION\_BOX\_CAPSULE\_UNIT\_HPP}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define TESSERACT\_COLLISION\_COLLISION\_BOX\_CAPSULE\_UNIT\_HPP}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{discrete__contact__manager_8h}{tesseract\_collision/core/discrete\_contact\_manager.h}}>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{geometries_8h}{tesseract\_geometry/geometries.h}}>}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacetesseract__collision_1_1test__suite}{tesseract\_collision::test\_suite}}}
\DoxyCodeLine{8 \{}
\DoxyCodeLine{9 \textcolor{keyword}{namespace }detail}
\DoxyCodeLine{10 \{}
\DoxyCodeLine{11 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacetesseract__collision_1_1test__suite_1_1detail_a3fb030da7784f5e059d57666cb288f3d}{addCollisionObjects}}(\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager}{DiscreteContactManager}}\& checker)}
\DoxyCodeLine{12 \{}
\DoxyCodeLine{14   \textcolor{comment}{// Add box to checker}}
\DoxyCodeLine{16 \textcolor{comment}{}  \mbox{\hyperlink{namespacetesseract__collision_a0aa5b9a264467e92cd1b9f0cd0c38ee8}{CollisionShapePtr}} box = std::make\_shared<tesseract\_geometry::Box>(1, 1, 1);}
\DoxyCodeLine{17   Eigen::Isometry3d box\_pose;}
\DoxyCodeLine{18   box\_pose.setIdentity();}
\DoxyCodeLine{19 }
\DoxyCodeLine{20   \mbox{\hyperlink{namespacetesseract__collision_a2472107aae8174a30873bb0a955c3cb4}{CollisionShapesConst}} obj1\_shapes;}
\DoxyCodeLine{21   \mbox{\hyperlink{namespacetesseract__common_a94d9921fc7ed323609ac57d06f939cb6}{tesseract\_common::VectorIsometry3d}} obj1\_poses;}
\DoxyCodeLine{22   obj1\_shapes.push\_back(box);}
\DoxyCodeLine{23   obj1\_poses.push\_back(box\_pose);}
\DoxyCodeLine{24 }
\DoxyCodeLine{25   checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a2a82db2881b5f7c701ed3d42db053ae8}{addCollisionObject}}(\textcolor{stringliteral}{"{}box\_link"{}}, 0, obj1\_shapes, obj1\_poses);}
\DoxyCodeLine{26 }
\DoxyCodeLine{28   \textcolor{comment}{// Add thin box to checker which is disabled}}
\DoxyCodeLine{30 \textcolor{comment}{}  \mbox{\hyperlink{namespacetesseract__collision_a0aa5b9a264467e92cd1b9f0cd0c38ee8}{CollisionShapePtr}} thin\_box = std::make\_shared<tesseract\_geometry::Box>(0.1, 1, 1);}
\DoxyCodeLine{31   Eigen::Isometry3d thin\_box\_pose;}
\DoxyCodeLine{32   thin\_box\_pose.setIdentity();}
\DoxyCodeLine{33 }
\DoxyCodeLine{34   \mbox{\hyperlink{namespacetesseract__collision_a2472107aae8174a30873bb0a955c3cb4}{CollisionShapesConst}} obj2\_shapes;}
\DoxyCodeLine{35   \mbox{\hyperlink{namespacetesseract__common_a94d9921fc7ed323609ac57d06f939cb6}{tesseract\_common::VectorIsometry3d}} obj2\_poses;}
\DoxyCodeLine{36   obj2\_shapes.push\_back(thin\_box);}
\DoxyCodeLine{37   obj2\_poses.push\_back(thin\_box\_pose);}
\DoxyCodeLine{38 }
\DoxyCodeLine{39   checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a2a82db2881b5f7c701ed3d42db053ae8}{addCollisionObject}}(\textcolor{stringliteral}{"{}thin\_box\_link"{}}, 0, obj2\_shapes, obj2\_poses, \textcolor{keyword}{false});}
\DoxyCodeLine{40 }
\DoxyCodeLine{42   \textcolor{comment}{// Add capsule to checker.}}
\DoxyCodeLine{44 \textcolor{comment}{}  \mbox{\hyperlink{namespacetesseract__collision_a0aa5b9a264467e92cd1b9f0cd0c38ee8}{CollisionShapePtr}} capsule = std::make\_shared<tesseract\_geometry::Capsule>(0.25, 0.25);}
\DoxyCodeLine{45   Eigen::Isometry3d capsule\_pose;}
\DoxyCodeLine{46   capsule\_pose.setIdentity();}
\DoxyCodeLine{47 }
\DoxyCodeLine{48   \mbox{\hyperlink{namespacetesseract__collision_a2472107aae8174a30873bb0a955c3cb4}{CollisionShapesConst}} obj3\_shapes;}
\DoxyCodeLine{49   \mbox{\hyperlink{namespacetesseract__common_a94d9921fc7ed323609ac57d06f939cb6}{tesseract\_common::VectorIsometry3d}} obj3\_poses;}
\DoxyCodeLine{50   obj3\_shapes.push\_back(capsule);}
\DoxyCodeLine{51   obj3\_poses.push\_back(capsule\_pose);}
\DoxyCodeLine{52 }
\DoxyCodeLine{53   checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a2a82db2881b5f7c701ed3d42db053ae8}{addCollisionObject}}(\textcolor{stringliteral}{"{}capsule\_link"{}}, 0, obj3\_shapes, obj3\_poses);}
\DoxyCodeLine{54 }
\DoxyCodeLine{56   \textcolor{comment}{// Add box and remove}}
\DoxyCodeLine{58 \textcolor{comment}{}  \mbox{\hyperlink{namespacetesseract__collision_a0aa5b9a264467e92cd1b9f0cd0c38ee8}{CollisionShapePtr}} remove\_box = std::make\_shared<tesseract\_geometry::Box>(0.1, 1, 1);}
\DoxyCodeLine{59   Eigen::Isometry3d remove\_box\_pose;}
\DoxyCodeLine{60   thin\_box\_pose.setIdentity();}
\DoxyCodeLine{61 }
\DoxyCodeLine{62   \mbox{\hyperlink{namespacetesseract__collision_a2472107aae8174a30873bb0a955c3cb4}{CollisionShapesConst}} obj4\_shapes;}
\DoxyCodeLine{63   \mbox{\hyperlink{namespacetesseract__common_a94d9921fc7ed323609ac57d06f939cb6}{tesseract\_common::VectorIsometry3d}} obj4\_poses;}
\DoxyCodeLine{64   obj4\_shapes.push\_back(remove\_box);}
\DoxyCodeLine{65   obj4\_poses.push\_back(remove\_box\_pose);}
\DoxyCodeLine{66 }
\DoxyCodeLine{67   checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a2a82db2881b5f7c701ed3d42db053ae8}{addCollisionObject}}(\textcolor{stringliteral}{"{}remove\_box\_link"{}}, 0, obj4\_shapes, obj4\_poses);}
\DoxyCodeLine{68   EXPECT\_TRUE(checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a7a4697f7c582ab800142a1d4923607ab}{getCollisionObjects}}().size() == 4);}
\DoxyCodeLine{69   EXPECT\_TRUE(checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a88de26744511600a096f25d37eebd5c9}{hasCollisionObject}}(\textcolor{stringliteral}{"{}remove\_box\_link"{}}));}
\DoxyCodeLine{70   checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a76f980b2fff3c2aa69be2b1dfce33dc6}{removeCollisionObject}}(\textcolor{stringliteral}{"{}remove\_box\_link"{}});}
\DoxyCodeLine{71   EXPECT\_FALSE(checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a88de26744511600a096f25d37eebd5c9}{hasCollisionObject}}(\textcolor{stringliteral}{"{}remove\_box\_link"{}}));}
\DoxyCodeLine{72 }
\DoxyCodeLine{74   \textcolor{comment}{// Try functions on a link that does not exist}}
\DoxyCodeLine{76 \textcolor{comment}{}  EXPECT\_FALSE(checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a76f980b2fff3c2aa69be2b1dfce33dc6}{removeCollisionObject}}(\textcolor{stringliteral}{"{}link\_does\_not\_exist"{}}));}
\DoxyCodeLine{77   EXPECT\_FALSE(checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a6327db89cb640fe6161481d3e0f39045}{enableCollisionObject}}(\textcolor{stringliteral}{"{}link\_does\_not\_exist"{}}));}
\DoxyCodeLine{78   EXPECT\_FALSE(checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_aa5b4b0c83fbb06ba8944845b87471fa9}{disableCollisionObject}}(\textcolor{stringliteral}{"{}link\_does\_not\_exist"{}}));}
\DoxyCodeLine{79 }
\DoxyCodeLine{81   \textcolor{comment}{// Try to add empty Collision Object}}
\DoxyCodeLine{83 \textcolor{comment}{}  EXPECT\_FALSE(}
\DoxyCodeLine{84       checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a2a82db2881b5f7c701ed3d42db053ae8}{addCollisionObject}}(\textcolor{stringliteral}{"{}empty\_link"{}}, 0, \mbox{\hyperlink{namespacetesseract__collision_a2472107aae8174a30873bb0a955c3cb4}{CollisionShapesConst}}(), \mbox{\hyperlink{namespacetesseract__common_a94d9921fc7ed323609ac57d06f939cb6}{tesseract\_common::VectorIsometry3d}}()));}
\DoxyCodeLine{85 }
\DoxyCodeLine{87   \textcolor{comment}{// Check sizes}}
\DoxyCodeLine{89 \textcolor{comment}{}  EXPECT\_TRUE(checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a7a4697f7c582ab800142a1d4923607ab}{getCollisionObjects}}().size() == 3);}
\DoxyCodeLine{90   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& co : checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a7a4697f7c582ab800142a1d4923607ab}{getCollisionObjects}}())}
\DoxyCodeLine{91   \{}
\DoxyCodeLine{92     EXPECT\_TRUE(checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_adb11d7c35bd134e336d707d71faa1886}{getCollisionObjectGeometries}}(co).size() == 1);}
\DoxyCodeLine{93     EXPECT\_TRUE(checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a894ac7465ba94d5d8b2642db3701815d}{getCollisionObjectGeometriesTransforms}}(co).size() == 1);}
\DoxyCodeLine{94     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& cgt : checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a894ac7465ba94d5d8b2642db3701815d}{getCollisionObjectGeometriesTransforms}}(co))}
\DoxyCodeLine{95     \{}
\DoxyCodeLine{96       EXPECT\_TRUE(cgt.isApprox(Eigen::Isometry3d::Identity(), 1e-\/5));}
\DoxyCodeLine{97     \}}
\DoxyCodeLine{98   \}}
\DoxyCodeLine{99 \}}
\DoxyCodeLine{100 \}  \textcolor{comment}{// namespace detail}}
\DoxyCodeLine{101 }
\DoxyCodeLine{102 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacetesseract__collision_1_1test__suite_a64721a2ef6abc909e9a762274303107b}{runTest}}(\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager}{DiscreteContactManager}}\& checker)}
\DoxyCodeLine{103 \{}
\DoxyCodeLine{104   \textcolor{comment}{// Add collision objects}}
\DoxyCodeLine{105   \mbox{\hyperlink{namespacetesseract__collision_1_1test__suite_1_1detail_a3fb030da7784f5e059d57666cb288f3d}{detail::addCollisionObjects}}(checker);}
\DoxyCodeLine{106 }
\DoxyCodeLine{108   \textcolor{comment}{// Test when object is in collision}}
\DoxyCodeLine{110 \textcolor{comment}{}  checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a14111f72aeaa2f22cf79b64e54479fb0}{setActiveCollisionObjects}}(\{ \textcolor{stringliteral}{"{}box\_link"{}}, \textcolor{stringliteral}{"{}capsule\_link"{}} \});}
\DoxyCodeLine{111   checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_acbd053442a4d591c29aab5be5706ef04}{setCollisionMarginData}}(\mbox{\hyperlink{namespacetesseract__collision_a0717a3c53d08d510257f631ea96cb560}{CollisionMarginData}}(0.1));}
\DoxyCodeLine{112   EXPECT\_NEAR(checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_abd2686026229a788a0e6836d20ea7008}{getCollisionMarginData}}().\mbox{\hyperlink{classtesseract__common_1_1CollisionMarginData_a8b73bd2450f2c9215e67bba3c048fe4b}{getMaxCollisionMargin}}(), 0.1, 1e-\/5);}
\DoxyCodeLine{113 }
\DoxyCodeLine{114   \textcolor{comment}{// Set the collision object transforms}}
\DoxyCodeLine{115   \mbox{\hyperlink{namespacetesseract__common_a67bde3cb7bb235f0f61c370ef8bc74d8}{tesseract\_common::TransformMap}} location;}
\DoxyCodeLine{116   location[\textcolor{stringliteral}{"{}box\_link"{}}] = Eigen::Isometry3d::Identity();}
\DoxyCodeLine{117   location[\textcolor{stringliteral}{"{}capsule\_link"{}}] = Eigen::Isometry3d::Identity();}
\DoxyCodeLine{118   location[\textcolor{stringliteral}{"{}capsule\_link"{}}].translation()(0) = 0.2;}
\DoxyCodeLine{119   checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a21d038a9836cdb5a3b44ad527fd93a5b}{setCollisionObjectsTransform}}(location);}
\DoxyCodeLine{120 }
\DoxyCodeLine{121   \textcolor{comment}{// Perform collision check}}
\DoxyCodeLine{122   \mbox{\hyperlink{namespacetesseract__collision_a1eeace4cc41027dbde8e7dbeb77ca7cf}{ContactResultMap}} result;}
\DoxyCodeLine{123   checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a1ddfa181400941e093c76a852df72425}{contactTest}}(result, \mbox{\hyperlink{structtesseract__collision_1_1ContactRequest}{ContactRequest}}(\mbox{\hyperlink{namespacetesseract__collision_ac3da4f46ae16e86ba4f1dfd2935eb80cae9c32f09a44ae1ae34e42d53502fab77}{ContactTestType::CLOSEST}}));}
\DoxyCodeLine{124 }
\DoxyCodeLine{125   \mbox{\hyperlink{namespacetesseract__collision_a96d77f62b7c26962d1090f0a2f00419b}{ContactResultVector}} result\_vector;}
\DoxyCodeLine{126   \mbox{\hyperlink{namespacetesseract__collision_a3d63942ad37df10958b434c860782fbb}{flattenResults}}(std::move(result), result\_vector);}
\DoxyCodeLine{127 }
\DoxyCodeLine{128   EXPECT\_TRUE(!result\_vector.empty());}
\DoxyCodeLine{129   EXPECT\_NEAR(result\_vector[0].distance, -\/0.55, 0.0001);}
\DoxyCodeLine{130   EXPECT\_NEAR(result\_vector[0].nearest\_points[0][1], result\_vector[0].nearest\_points[1][1], 0.001);}
\DoxyCodeLine{131   EXPECT\_NEAR(result\_vector[0].nearest\_points[0][2], result\_vector[0].nearest\_points[1][2], 0.001);}
\DoxyCodeLine{132 }
\DoxyCodeLine{133   std::vector<int> idx = \{ 0, 1, 1 \};}
\DoxyCodeLine{134   \textcolor{keywordflow}{if} (result\_vector[0].link\_names[0] != \textcolor{stringliteral}{"{}box\_link"{}})}
\DoxyCodeLine{135     idx = \{ 1, 0, -\/1 \};}
\DoxyCodeLine{136 }
\DoxyCodeLine{137   \textcolor{keywordflow}{if} (result\_vector[0].single\_contact\_point)}
\DoxyCodeLine{138   \{}
\DoxyCodeLine{139     EXPECT\_NEAR(result\_vector[0].nearest\_points[0][0], result\_vector[0].nearest\_points[1][0], 0.001);}
\DoxyCodeLine{140     EXPECT\_FALSE(std::abs(result\_vector[0].nearest\_points[0][0] -\/ (0.5)) > 0.001 \&\&}
\DoxyCodeLine{141                  std::abs(result\_vector[0].nearest\_points[0][0] -\/ (-\/0.05)) > 0.001);}
\DoxyCodeLine{142   \}}
\DoxyCodeLine{143   \textcolor{keywordflow}{else}}
\DoxyCodeLine{144   \{}
\DoxyCodeLine{145     EXPECT\_NEAR(result\_vector[0].nearest\_points[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(idx[0])][0], 0.5, 0.001);}
\DoxyCodeLine{146     EXPECT\_NEAR(result\_vector[0].nearest\_points[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(idx[1])][0], -\/0.05, 0.001);}
\DoxyCodeLine{147   \}}
\DoxyCodeLine{148 }
\DoxyCodeLine{149   EXPECT\_NEAR(result\_vector[0].normal[0], idx[2] * 1.0, 0.001);}
\DoxyCodeLine{150   EXPECT\_NEAR(result\_vector[0].normal[1], idx[2] * 0.0, 0.001);}
\DoxyCodeLine{151   EXPECT\_NEAR(result\_vector[0].normal[2], idx[2] * 0.0, 0.001);}
\DoxyCodeLine{152 }
\DoxyCodeLine{154   \textcolor{comment}{// Test object is out side the contact distance}}
\DoxyCodeLine{156 \textcolor{comment}{}  location[\textcolor{stringliteral}{"{}capsule\_link"{}}].translation() = Eigen::Vector3d(0, 0, 1);}
\DoxyCodeLine{157   result = \mbox{\hyperlink{namespacetesseract__collision_a1eeace4cc41027dbde8e7dbeb77ca7cf}{ContactResultMap}}();}
\DoxyCodeLine{158   result.clear();}
\DoxyCodeLine{159   result\_vector.clear();}
\DoxyCodeLine{160   checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a21d038a9836cdb5a3b44ad527fd93a5b}{setCollisionObjectsTransform}}(location);}
\DoxyCodeLine{161 }
\DoxyCodeLine{162   checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a1ddfa181400941e093c76a852df72425}{contactTest}}(result, \mbox{\hyperlink{structtesseract__collision_1_1ContactRequest}{ContactRequest}}(\mbox{\hyperlink{namespacetesseract__collision_ac3da4f46ae16e86ba4f1dfd2935eb80cae9c32f09a44ae1ae34e42d53502fab77}{ContactTestType::CLOSEST}}));}
\DoxyCodeLine{163   \mbox{\hyperlink{namespacetesseract__collision_a3d63942ad37df10958b434c860782fbb}{flattenResults}}(std::move(result), result\_vector);}
\DoxyCodeLine{164 }
\DoxyCodeLine{165   EXPECT\_TRUE(result\_vector.empty());}
\DoxyCodeLine{166 }
\DoxyCodeLine{168   \textcolor{comment}{// Test object inside the contact distance}}
\DoxyCodeLine{170 \textcolor{comment}{}  result = \mbox{\hyperlink{namespacetesseract__collision_a1eeace4cc41027dbde8e7dbeb77ca7cf}{ContactResultMap}}();}
\DoxyCodeLine{171   result.clear();}
\DoxyCodeLine{172   result\_vector.clear();}
\DoxyCodeLine{173 }
\DoxyCodeLine{174   checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_acbd053442a4d591c29aab5be5706ef04}{setCollisionMarginData}}(\mbox{\hyperlink{namespacetesseract__collision_a0717a3c53d08d510257f631ea96cb560}{CollisionMarginData}}(0.251));}
\DoxyCodeLine{175   EXPECT\_NEAR(checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_abd2686026229a788a0e6836d20ea7008}{getCollisionMarginData}}().\mbox{\hyperlink{classtesseract__common_1_1CollisionMarginData_a8b73bd2450f2c9215e67bba3c048fe4b}{getMaxCollisionMargin}}(), 0.251, 1e-\/5);}
\DoxyCodeLine{176   checker.\mbox{\hyperlink{classtesseract__collision_1_1DiscreteContactManager_a1ddfa181400941e093c76a852df72425}{contactTest}}(result, \mbox{\hyperlink{structtesseract__collision_1_1ContactRequest}{ContactRequest}}(\mbox{\hyperlink{namespacetesseract__collision_ac3da4f46ae16e86ba4f1dfd2935eb80cae9c32f09a44ae1ae34e42d53502fab77}{ContactTestType::CLOSEST}}));}
\DoxyCodeLine{177   \mbox{\hyperlink{namespacetesseract__collision_a3d63942ad37df10958b434c860782fbb}{flattenResults}}(std::move(result), result\_vector);}
\DoxyCodeLine{178 }
\DoxyCodeLine{179   EXPECT\_TRUE(!result\_vector.empty());}
\DoxyCodeLine{180   EXPECT\_NEAR(result\_vector[0].distance, 0.125, 0.001);}
\DoxyCodeLine{181   EXPECT\_NEAR(result\_vector[0].nearest\_points[0][0], result\_vector[0].nearest\_points[1][0], 0.001);}
\DoxyCodeLine{182   EXPECT\_NEAR(result\_vector[0].nearest\_points[0][1], result\_vector[0].nearest\_points[1][1], 0.001);}
\DoxyCodeLine{183 }
\DoxyCodeLine{184   idx = \{ 0, 1, 1 \};}
\DoxyCodeLine{185   \textcolor{keywordflow}{if} (result\_vector[0].link\_names[0] != \textcolor{stringliteral}{"{}box\_link"{}})}
\DoxyCodeLine{186     idx = \{ 1, 0, -\/1 \};}
\DoxyCodeLine{187 }
\DoxyCodeLine{188   \textcolor{keywordflow}{if} (result\_vector[0].single\_contact\_point)}
\DoxyCodeLine{189   \{}
\DoxyCodeLine{190     EXPECT\_NEAR(result\_vector[0].nearest\_points[0][0], result\_vector[0].nearest\_points[1][0], 0.001);}
\DoxyCodeLine{191     EXPECT\_FALSE(std::abs(result\_vector[0].nearest\_points[0][2] -\/ (0.5)) > 0.001 \&\&}
\DoxyCodeLine{192                  std::abs(result\_vector[0].nearest\_points[0][2] -\/ (0.625)) > 0.001);}
\DoxyCodeLine{193   \}}
\DoxyCodeLine{194   \textcolor{keywordflow}{else}}
\DoxyCodeLine{195   \{}
\DoxyCodeLine{196     EXPECT\_NEAR(result\_vector[0].nearest\_points[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(idx[0])][2], 0.5, 0.001);}
\DoxyCodeLine{197     EXPECT\_NEAR(result\_vector[0].nearest\_points[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(idx[1])][2], 0.625, 0.001);}
\DoxyCodeLine{198   \}}
\DoxyCodeLine{199 }
\DoxyCodeLine{200   EXPECT\_NEAR(result\_vector[0].normal[0], idx[2] * 0.0, 0.0011);  \textcolor{comment}{// FCL Required the bump in tolerance}}
\DoxyCodeLine{201   EXPECT\_NEAR(result\_vector[0].normal[1], idx[2] * 0.0, 0.0011);  \textcolor{comment}{// FCL Required the bump in tolerance}}
\DoxyCodeLine{202   EXPECT\_NEAR(result\_vector[0].normal[2], idx[2] * 1.0, 0.0011);  \textcolor{comment}{// FCL Required the bump in tolerance}}
\DoxyCodeLine{203 \}}
\DoxyCodeLine{204 }
\DoxyCodeLine{205 \}  \textcolor{comment}{// namespace tesseract\_collision::test\_suite}}
\DoxyCodeLine{206 }
\DoxyCodeLine{207 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// TESSERACT\_COLLISION\_COLLISION\_BOX\_CAPSULE\_UNIT\_HPP}}

\end{DoxyCode}
